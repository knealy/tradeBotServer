var Mn=Object.defineProperty;var In=(t,e,n)=>e in t?Mn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ve=(t,e,n)=>In(t,typeof e!="symbol"?e+"":e,n);import{r as N,a as $n,b as qn,R as X,L as Rt,u as Un,B as Qn,d as Bn,e as Xe}from"./react-vendor-kWENTzfD.js";import{_ as M,a as Te,R as _t,L as Ms,C as Pt,X as Ft,Y as at,T as At,b as Hn,c as Fe,B as as,d as Kn,e as zn,f as Wn}from"./chart-vendor-BIT4Wq8p.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Is={exports:{}},mt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vn=N,Jn=Symbol.for("react.element"),Gn=Symbol.for("react.fragment"),Yn=Object.prototype.hasOwnProperty,Xn=Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zn={key:!0,ref:!0,__self:!0,__source:!0};function $s(t,e,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Yn.call(e,s)&&!Zn.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:Jn,type:t,key:a,ref:o,props:i,_owner:Xn.current}}mt.Fragment=Gn;mt.jsx=$s;mt.jsxs=$s;Is.exports=mt;var r=Is.exports,Tt={},os=$n;Tt.createRoot=os.createRoot,Tt.hydrateRoot=os.hydrateRoot;var Le=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(s){var i=this,a=s||function(){};return this.listeners.push(a),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==a}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),ot=typeof window>"u";function ee(){}function er(t,e){return typeof t=="function"?t(e):t}function Lt(t){return typeof t=="number"&&t>=0&&t!==1/0}function lt(t){return Array.isArray(t)?t:[t]}function qs(t,e){return Math.max(t+(e||0)-Date.now(),0)}function et(t,e,n){return Ke(t)?typeof e=="function"?M({},n,{queryKey:t,queryFn:e}):M({},e,{queryKey:t}):t}function tr(t,e,n){return Ke(t)?typeof e=="function"?M({},n,{mutationKey:t,mutationFn:e}):M({},e,{mutationKey:t}):typeof t=="function"?M({},e,{mutationFn:t}):M({},t)}function we(t,e,n){return Ke(t)?[M({},e,{queryKey:t}),n]:[t||{},e]}function sr(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function ls(t,e){var n=t.active,s=t.exact,i=t.fetching,a=t.inactive,o=t.predicate,l=t.queryKey,d=t.stale;if(Ke(l)){if(s){if(e.queryHash!==Ht(l,e.options))return!1}else if(!ct(e.queryKey,l))return!1}var c=sr(n,a);if(c==="none")return!1;if(c!=="all"){var h=e.isActive();if(c==="active"&&!h||c==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function cs(t,e){var n=t.exact,s=t.fetching,i=t.predicate,a=t.mutationKey;if(Ke(a)){if(!e.options.mutationKey)return!1;if(n){if(ke(e.options.mutationKey)!==ke(a))return!1}else if(!ct(e.options.mutationKey,a))return!1}return!(typeof s=="boolean"&&e.state.status==="loading"!==s||i&&!i(e))}function Ht(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||ke;return n(t)}function ke(t){var e=lt(t);return nr(e)}function nr(t){return JSON.stringify(t,function(e,n){return Dt(n)?Object.keys(n).sort().reduce(function(s,i){return s[i]=n[i],s},{}):n})}function ct(t,e){return Us(lt(t),lt(e))}function Us(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!Us(t[n],e[n])}):!1}function ut(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Dt(t)&&Dt(e)){for(var s=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{},l=0,d=0;d<a;d++){var c=n?d:i[d];o[c]=ut(t[c],e[c]),o[c]===t[c]&&l++}return s===a&&l===s?t:o}return e}function rr(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Dt(t){if(!us(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!us(n)||!n.hasOwnProperty("isPrototypeOf"))}function us(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ke(t){return typeof t=="string"||Array.isArray(t)}function ir(t){return new Promise(function(e){setTimeout(e,t)})}function ds(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function Qs(){if(typeof AbortController=="function")return new AbortController}var ar=function(t){Te(e,t);function e(){var s;return s=t.call(this)||this,s.setup=function(i){var a;if(!ot&&((a=window)!=null&&a.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},s}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var a,o=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Le),Ue=new ar,or=function(t){Te(e,t);function e(){var s;return s=t.call(this)||this,s.setup=function(i){var a;if(!ot&&((a=window)!=null&&a.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},s}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var a,o=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Le),tt=new or;function lr(t){return Math.min(1e3*Math.pow(2,t),3e4)}function dt(t){return typeof(t==null?void 0:t.cancel)=="function"}var Bs=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function st(t){return t instanceof Bs}var Hs=function(e){var n=this,s=!1,i,a,o,l;this.abort=e.abort,this.cancel=function(x){return i==null?void 0:i(x)},this.cancelRetry=function(){s=!0},this.continueRetry=function(){s=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(x,y){o=x,l=y});var d=function(y){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(y),a==null||a(),o(y))},c=function(y){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(y),a==null||a(),l(y))},h=function(){return new Promise(function(y){a=y,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){a=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function x(){if(!n.isResolved){var y;try{y=e.fn()}catch(m){y=Promise.reject(m)}i=function(b){if(!n.isResolved&&(c(new Bs(b)),n.abort==null||n.abort(),dt(y)))try{y.cancel()}catch{}},n.isTransportCancelable=dt(y),Promise.resolve(y).then(d).catch(function(m){var b,v;if(!n.isResolved){var C=(b=e.retry)!=null?b:3,k=(v=e.retryDelay)!=null?v:lr,g=typeof k=="function"?k(n.failureCount,m):k,E=C===!0||typeof C=="number"&&n.failureCount<C||typeof C=="function"&&C(n.failureCount,m);if(s||!E){c(m);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,m),ir(g).then(function(){if(!Ue.isFocused()||!tt.isOnline())return h()}).then(function(){s?c(m):x()})}})}};f()},cr=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(s){var i;this.transactions++;try{i=s()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(s){var i=this;this.transactions?this.queue.push(s):ds(function(){i.notifyFn(s)})},e.batchCalls=function(s){var i=this;return function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];i.schedule(function(){s.apply(void 0,o)})}},e.flush=function(){var s=this,i=this.queue;this.queue=[],i.length&&ds(function(){s.batchNotifyFn(function(){i.forEach(function(a){s.notifyFn(a)})})})},e.setNotifyFunction=function(s){this.notifyFn=s},e.setBatchNotifyFunction=function(s){this.batchNotifyFn=s},t}(),z=new cr,Ks=console;function ht(){return Ks}function ur(t){Ks=t}var dr=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(s){var i;this.options=M({},this.defaultOptions,s),this.meta=s==null?void 0:s.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(s){this.defaultOptions=s},e.scheduleGc=function(){var s=this;this.clearGcTimeout(),Lt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){s.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(s,i){var a,o,l=this.state.data,d=er(s,l);return(a=(o=this.options).isDataEqual)!=null&&a.call(o,l,d)?d=l:this.options.structuralSharing!==!1&&(d=ut(l,d)),this.dispatch({data:d,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),d},e.setState=function(s,i){this.dispatch({type:"setState",state:s,setStateOptions:i})},e.cancel=function(s){var i,a=this.promise;return(i=this.retryer)==null||i.cancel(s),a?a.then(ee).catch(ee):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(s){return s.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(s){return s.getCurrentResult().isStale})},e.isStaleByTime=function(s){return s===void 0&&(s=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!qs(this.state.dataUpdatedAt,s)},e.onFocus=function(){var s,i=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});i&&i.refetch(),(s=this.retryer)==null||s.continue()},e.onOnline=function(){var s,i=this.observers.find(function(a){return a.shouldFetchOnReconnect()});i&&i.refetch(),(s=this.retryer)==null||s.continue()},e.addObserver=function(s){this.observers.indexOf(s)===-1&&(this.observers.push(s),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:s}))},e.removeObserver=function(s){this.observers.indexOf(s)!==-1&&(this.observers=this.observers.filter(function(i){return i!==s}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:s}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(s,i){var a=this,o,l,d;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(s&&this.setOptions(s),!this.options.queryFn){var h=this.observers.find(function(k){return k.options.queryFn});h&&this.setOptions(h.options)}var f=lt(this.queryKey),x=Qs(),y={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(y,"signal",{enumerable:!0,get:function(){if(x)return a.abortSignalConsumed=!0,x.signal}});var m=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(y)):Promise.reject("Missing queryFn")},b={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:m,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var v;(v=this.options.behavior)==null||v.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=b.fetchOptions)==null?void 0:l.meta)){var C;this.dispatch({type:"fetch",meta:(C=b.fetchOptions)==null?void 0:C.meta})}return this.retryer=new Hs({fn:b.fetchFn,abort:x==null||(d=x.abort)==null?void 0:d.bind(x),onSuccess:function(g){a.setData(g),a.cache.config.onSuccess==null||a.cache.config.onSuccess(g,a),a.cacheTime===0&&a.optionalRemove()},onError:function(g){st(g)&&g.silent||a.dispatch({type:"error",error:g}),st(g)||(a.cache.config.onError==null||a.cache.config.onError(g,a),ht().error(g)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(s){var i=this;this.state=this.reducer(this.state,s),z.batch(function(){i.observers.forEach(function(a){a.onQueryUpdate(s)}),i.cache.notify({query:i,type:"queryUpdated",action:s})})},e.getDefaultState=function(s){var i=typeof s.initialData=="function"?s.initialData():s.initialData,a=typeof s.initialData<"u",o=a?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0,l=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(s,i){var a,o;switch(i.type){case"failed":return M({},s,{fetchFailureCount:s.fetchFailureCount+1});case"pause":return M({},s,{isPaused:!0});case"continue":return M({},s,{isPaused:!1});case"fetch":return M({},s,{fetchFailureCount:0,fetchMeta:(a=i.meta)!=null?a:null,isFetching:!0,isPaused:!1},!s.dataUpdatedAt&&{error:null,status:"loading"});case"success":return M({},s,{data:i.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=i.error;return st(l)&&l.revert&&this.revertState?M({},this.revertState):M({},s,{error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return M({},s,{isInvalidated:!0});case"setState":return M({},s,i.state);default:return s}},t}(),hr=function(t){Te(e,t);function e(s){var i;return i=t.call(this)||this,i.config=s||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,a,o){var l,d=a.queryKey,c=(l=a.queryHash)!=null?l:Ht(d,a),h=this.get(c);return h||(h=new dr({cache:this,queryKey:d,queryHash:c,options:i.defaultQueryOptions(a),state:o,defaultOptions:i.getQueryDefaults(d),meta:a.meta}),this.add(h)),h},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var a=this.queriesMap[i.queryHash];a&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),a===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;z.batch(function(){i.queries.forEach(function(a){i.remove(a)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,a){var o=we(i,a),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(d){return ls(l,d)})},n.findAll=function(i,a){var o=we(i,a),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(d){return ls(l,d)}):this.queries},n.notify=function(i){var a=this;z.batch(function(){a.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;z.batch(function(){i.queries.forEach(function(a){a.onFocus()})})},n.onOnline=function(){var i=this;z.batch(function(){i.queries.forEach(function(a){a.onOnline()})})},e}(Le),fr=function(){function t(n){this.options=M({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||zs(),this.meta=n.meta}var e=t.prototype;return e.setState=function(s){this.dispatch({type:"setState",state:s})},e.addObserver=function(s){this.observers.indexOf(s)===-1&&this.observers.push(s)},e.removeObserver=function(s){this.observers=this.observers.filter(function(i){return i!==s})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ee).catch(ee)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var s=this,i,a=this.state.status==="loading",o=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){s.mutationCache.config.onMutate==null||s.mutationCache.config.onMutate(s.state.variables,s)}).then(function(){return s.options.onMutate==null?void 0:s.options.onMutate(s.state.variables)}).then(function(l){l!==s.state.context&&s.dispatch({type:"loading",context:l,variables:s.state.variables})})),o.then(function(){return s.executeMutation()}).then(function(l){i=l,s.mutationCache.config.onSuccess==null||s.mutationCache.config.onSuccess(i,s.state.variables,s.state.context,s)}).then(function(){return s.options.onSuccess==null?void 0:s.options.onSuccess(i,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(i,null,s.state.variables,s.state.context)}).then(function(){return s.dispatch({type:"success",data:i}),i}).catch(function(l){return s.mutationCache.config.onError==null||s.mutationCache.config.onError(l,s.state.variables,s.state.context,s),ht().error(l),Promise.resolve().then(function(){return s.options.onError==null?void 0:s.options.onError(l,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(void 0,l,s.state.variables,s.state.context)}).then(function(){throw s.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var s=this,i;return this.retryer=new Hs({fn:function(){return s.options.mutationFn?s.options.mutationFn(s.state.variables):Promise.reject("No mutationFn found")},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(s){var i=this;this.state=mr(this.state,s),z.batch(function(){i.observers.forEach(function(a){a.onMutationUpdate(s)}),i.mutationCache.notify(i)})},t}();function zs(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function mr(t,e){switch(e.type){case"failed":return M({},t,{failureCount:t.failureCount+1});case"pause":return M({},t,{isPaused:!0});case"continue":return M({},t,{isPaused:!1});case"loading":return M({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return M({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return M({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return M({},t,e.state);default:return t}}var pr=function(t){Te(e,t);function e(s){var i;return i=t.call(this)||this,i.config=s||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,a,o){var l=new fr({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(a),state:o,defaultOptions:a.mutationKey?i.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(l),l},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(a){return a!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;z.batch(function(){i.mutations.forEach(function(a){i.remove(a)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(a){return cs(i,a)})},n.findAll=function(i){return this.mutations.filter(function(a){return cs(i,a)})},n.notify=function(i){var a=this;z.batch(function(){a.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(a){return a.state.isPaused});return z.batch(function(){return i.reduce(function(a,o){return a.then(function(){return o.continue().catch(ee)})},Promise.resolve())})},e}(Le);function xr(){return{onFetch:function(e){e.fetchFn=function(){var n,s,i,a,o,l,d=(n=e.fetchOptions)==null||(s=n.meta)==null?void 0:s.refetchPage,c=(i=e.fetchOptions)==null||(a=i.meta)==null?void 0:a.fetchMore,h=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",x=(c==null?void 0:c.direction)==="backward",y=((o=e.state.data)==null?void 0:o.pages)||[],m=((l=e.state.data)==null?void 0:l.pageParams)||[],b=Qs(),v=b==null?void 0:b.signal,C=m,k=!1,g=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function(B,P,L,ne){return C=ne?[P].concat(C):[].concat(C,[P]),ne?[L].concat(B):[].concat(B,[L])},T=function(B,P,L,ne){if(k)return Promise.reject("Cancelled");if(typeof L>"u"&&!P&&B.length)return Promise.resolve(B);var D={queryKey:e.queryKey,signal:v,pageParam:L,meta:e.meta},W=g(D),ce=Promise.resolve(W).then(function(re){return E(B,L,re,ne)});if(dt(W)){var Z=ce;Z.cancel=W.cancel}return ce},R;if(!y.length)R=T([]);else if(f){var j=typeof h<"u",q=j?h:hs(e.options,y);R=T(y,j,q)}else if(x){var J=typeof h<"u",U=J?h:br(e.options,y);R=T(y,J,U,!0)}else(function(){C=[];var _=typeof e.options.getNextPageParam>"u",B=d&&y[0]?d(y[0],0,y):!0;R=B?T([],_,m[0]):Promise.resolve(E([],m[0],y[0]));for(var P=function(D){R=R.then(function(W){var ce=d&&y[D]?d(y[D],D,y):!0;if(ce){var Z=_?m[D]:hs(e.options,W);return T(W,_,Z)}return Promise.resolve(E(W,m[D],y[D]))})},L=1;L<y.length;L++)P(L)})();var V=R.then(function(_){return{pages:_,pageParams:C}}),Q=V;return Q.cancel=function(){k=!0,b==null||b.abort(),dt(R)&&R.cancel()},V}}}}function hs(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function br(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var gr=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new hr,this.mutationCache=n.mutationCache||new pr,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var s=this;this.unsubscribeFocus=Ue.subscribe(function(){Ue.isFocused()&&tt.isOnline()&&(s.mutationCache.onFocus(),s.queryCache.onFocus())}),this.unsubscribeOnline=tt.subscribe(function(){Ue.isFocused()&&tt.isOnline()&&(s.mutationCache.onOnline(),s.queryCache.onOnline())})},e.unmount=function(){var s,i;(s=this.unsubscribeFocus)==null||s.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(s,i){var a=we(s,i),o=a[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(s){return this.mutationCache.findAll(M({},s,{fetching:!0})).length},e.getQueryData=function(s,i){var a;return(a=this.queryCache.find(s,i))==null?void 0:a.state.data},e.getQueriesData=function(s){return this.getQueryCache().findAll(s).map(function(i){var a=i.queryKey,o=i.state,l=o.data;return[a,l]})},e.setQueryData=function(s,i,a){var o=et(s),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(i,a)},e.setQueriesData=function(s,i,a){var o=this;return z.batch(function(){return o.getQueryCache().findAll(s).map(function(l){var d=l.queryKey;return[d,o.setQueryData(d,i,a)]})})},e.getQueryState=function(s,i){var a;return(a=this.queryCache.find(s,i))==null?void 0:a.state},e.removeQueries=function(s,i){var a=we(s,i),o=a[0],l=this.queryCache;z.batch(function(){l.findAll(o).forEach(function(d){l.remove(d)})})},e.resetQueries=function(s,i,a){var o=this,l=we(s,i,a),d=l[0],c=l[1],h=this.queryCache,f=M({},d,{active:!0});return z.batch(function(){return h.findAll(d).forEach(function(x){x.reset()}),o.refetchQueries(f,c)})},e.cancelQueries=function(s,i,a){var o=this,l=we(s,i,a),d=l[0],c=l[1],h=c===void 0?{}:c;typeof h.revert>"u"&&(h.revert=!0);var f=z.batch(function(){return o.queryCache.findAll(d).map(function(x){return x.cancel(h)})});return Promise.all(f).then(ee).catch(ee)},e.invalidateQueries=function(s,i,a){var o,l,d,c=this,h=we(s,i,a),f=h[0],x=h[1],y=M({},f,{active:(o=(l=f.refetchActive)!=null?l:f.active)!=null?o:!0,inactive:(d=f.refetchInactive)!=null?d:!1});return z.batch(function(){return c.queryCache.findAll(f).forEach(function(m){m.invalidate()}),c.refetchQueries(y,x)})},e.refetchQueries=function(s,i,a){var o=this,l=we(s,i,a),d=l[0],c=l[1],h=z.batch(function(){return o.queryCache.findAll(d).map(function(x){return x.fetch(void 0,M({},c,{meta:{refetchPage:d==null?void 0:d.refetchPage}}))})}),f=Promise.all(h).then(ee);return c!=null&&c.throwOnError||(f=f.catch(ee)),f},e.fetchQuery=function(s,i,a){var o=et(s,i,a),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var d=this.queryCache.build(this,l);return d.isStaleByTime(l.staleTime)?d.fetch(l):Promise.resolve(d.state.data)},e.prefetchQuery=function(s,i,a){return this.fetchQuery(s,i,a).then(ee).catch(ee)},e.fetchInfiniteQuery=function(s,i,a){var o=et(s,i,a);return o.behavior=xr(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(s,i,a){return this.fetchInfiniteQuery(s,i,a).then(ee).catch(ee)},e.cancelMutations=function(){var s=this,i=z.batch(function(){return s.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(i).then(ee).catch(ee)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(s){return this.mutationCache.build(this,s).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(s){this.defaultOptions=s},e.setQueryDefaults=function(s,i){var a=this.queryDefaults.find(function(o){return ke(s)===ke(o.queryKey)});a?a.defaultOptions=i:this.queryDefaults.push({queryKey:s,defaultOptions:i})},e.getQueryDefaults=function(s){var i;return s?(i=this.queryDefaults.find(function(a){return ct(s,a.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(s,i){var a=this.mutationDefaults.find(function(o){return ke(s)===ke(o.mutationKey)});a?a.defaultOptions=i:this.mutationDefaults.push({mutationKey:s,defaultOptions:i})},e.getMutationDefaults=function(s){var i;return s?(i=this.mutationDefaults.find(function(a){return ct(s,a.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(s){if(s!=null&&s._defaulted)return s;var i=M({},this.defaultOptions.queries,this.getQueryDefaults(s==null?void 0:s.queryKey),s,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Ht(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(s){return this.defaultQueryOptions(s)},e.defaultMutationOptions=function(s){return s!=null&&s._defaulted?s:M({},this.defaultOptions.mutations,this.getMutationDefaults(s==null?void 0:s.mutationKey),s,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),yr=function(t){Te(e,t);function e(s,i){var a;return a=t.call(this)||this,a.client=s,a.options=i,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(i),a}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),fs(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Mt(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Mt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,a){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var d=this.hasListeners();d&&ms(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(a),d&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();d&&(this.currentQuery!==l||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(i){var a=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,a);return this.createResult(o,a)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,a){var o=this,l={},d=function(h){o.trackedProps.includes(h)||o.trackedProps.push(h)};return Object.keys(i).forEach(function(c){Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:function(){return d(c),i[c]}})}),(a.useErrorBoundary||a.suspense)&&d("error"),l},n.getNextResult=function(i){var a=this;return new Promise(function(o,l){var d=a.subscribe(function(c){c.isFetching||(d(),c.isError&&(i!=null&&i.throwOnError)?l(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(M({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var a=this,o=this.client.defaultQueryObserverOptions(i),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return a.createResult(l,o)})},n.fetch=function(i){var a=this;return this.executeFetch(i).then(function(){return a.updateResult(),a.currentResult})},n.executeFetch=function(i){this.updateQuery();var a=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(a=a.catch(ee)),a},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(ot||this.currentResult.isStale||!Lt(this.options.staleTime))){var a=qs(this.currentResult.dataUpdatedAt,this.options.staleTime),o=a+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(ot||this.options.enabled===!1||!Lt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||Ue.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,a){var o=this.currentQuery,l=this.options,d=this.currentResult,c=this.currentResultState,h=this.currentResultOptions,f=i!==o,x=f?i.state:this.currentQueryInitialState,y=f?this.currentResult:this.previousQueryResult,m=i.state,b=m.dataUpdatedAt,v=m.error,C=m.errorUpdatedAt,k=m.isFetching,g=m.status,E=!1,T=!1,R;if(a.optimisticResults){var j=this.hasListeners(),q=!j&&fs(i,a),J=j&&ms(i,o,a,l);(q||J)&&(k=!0,b||(g="loading"))}if(a.keepPreviousData&&!m.dataUpdateCount&&(y!=null&&y.isSuccess)&&g!=="error")R=y.data,b=y.dataUpdatedAt,g=y.status,E=!0;else if(a.select&&typeof m.data<"u")if(d&&m.data===(c==null?void 0:c.data)&&a.select===this.selectFn)R=this.selectResult;else try{this.selectFn=a.select,R=a.select(m.data),a.structuralSharing!==!1&&(R=ut(d==null?void 0:d.data,R)),this.selectResult=R,this.selectError=null}catch(Q){ht().error(Q),this.selectError=Q}else R=m.data;if(typeof a.placeholderData<"u"&&typeof R>"u"&&(g==="loading"||g==="idle")){var U;if(d!=null&&d.isPlaceholderData&&a.placeholderData===(h==null?void 0:h.placeholderData))U=d.data;else if(U=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof U<"u")try{U=a.select(U),a.structuralSharing!==!1&&(U=ut(d==null?void 0:d.data,U)),this.selectError=null}catch(Q){ht().error(Q),this.selectError=Q}typeof U<"u"&&(g="success",R=U,T=!0)}this.selectError&&(v=this.selectError,R=this.selectResult,C=Date.now(),g="error");var V={status:g,isLoading:g==="loading",isSuccess:g==="success",isError:g==="error",isIdle:g==="idle",data:R,dataUpdatedAt:b,error:v,errorUpdatedAt:C,failureCount:m.fetchFailureCount,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>x.dataUpdateCount||m.errorUpdateCount>x.errorUpdateCount,isFetching:k,isRefetching:k&&g!=="loading",isLoadingError:g==="error"&&m.dataUpdatedAt===0,isPlaceholderData:T,isPreviousData:E,isRefetchError:g==="error"&&m.dataUpdatedAt!==0,isStale:Kt(i,a),refetch:this.refetch,remove:this.remove};return V},n.shouldNotifyListeners=function(i,a){if(!a)return!0;var o=this.options,l=o.notifyOnChangeProps,d=o.notifyOnChangePropsExclusions;if(!l&&!d||l==="tracked"&&!this.trackedProps.length)return!0;var c=l==="tracked"?this.trackedProps:l;return Object.keys(i).some(function(h){var f=h,x=i[f]!==a[f],y=c==null?void 0:c.some(function(b){return b===h}),m=d==null?void 0:d.some(function(b){return b===h});return x&&!m&&(!c||y)})},n.updateResult=function(i){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!rr(this.currentResult,a)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(o.listeners=!0),this.notify(M({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var a=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var a={};i.type==="success"?a.onSuccess=!0:i.type==="error"&&!st(i.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var a=this;z.batch(function(){i.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):i.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),i.listeners&&a.listeners.forEach(function(o){o(a.currentResult)}),i.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},e}(Le);function vr(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fs(t,e){return vr(t,e)||t.state.dataUpdatedAt>0&&Mt(t,e,e.refetchOnMount)}function Mt(t,e,n){if(e.enabled!==!1){var s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Kt(t,e)}return!1}function ms(t,e,n,s){return n.enabled!==!1&&(t!==e||s.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Kt(t,n)}function Kt(t,e){return t.isStaleByTime(e.staleTime)}var jr=function(t){Te(e,t);function e(s,i){var a;return a=t.call(this)||this,a.client=s,a.setOptions(i),a.bindMethods(),a.updateResult(),a}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var a={listeners:!0};i.type==="success"?a.onSuccess=!0:i.type==="error"&&(a.onError=!0),this.notify(a)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,a){return this.mutateOptions=a,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,M({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:zs(),a=M({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=a},n.notify=function(i){var a=this;z.batch(function(){a.mutateOptions&&(i.onSuccess?(a.mutateOptions.onSuccess==null||a.mutateOptions.onSuccess(a.currentResult.data,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(a.currentResult.data,null,a.currentResult.variables,a.currentResult.context)):i.onError&&(a.mutateOptions.onError==null||a.mutateOptions.onError(a.currentResult.error,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(void 0,a.currentResult.error,a.currentResult.variables,a.currentResult.context))),i.listeners&&a.listeners.forEach(function(o){o(a.currentResult)})})},e}(Le),Nr=qn.unstable_batchedUpdates;z.setBatchNotifyFunction(Nr);var wr=console;ur(wr);var ps=X.createContext(void 0),Ws=X.createContext(!1);function Vs(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ps),window.ReactQueryClientContext):ps}var de=function(){var e=X.useContext(Vs(X.useContext(Ws)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Sr=function(e){var n=e.client,s=e.contextSharing,i=s===void 0?!1:s,a=e.children;X.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=Vs(i);return X.createElement(Ws.Provider,{value:i},X.createElement(o.Provider,{value:n},a))};function Cr(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var kr=X.createContext(Cr()),Er=function(){return X.useContext(kr)};function Js(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function te(t,e,n){var s=X.useRef(!1),i=X.useState(0),a=i[1],o=tr(t,e,n),l=de(),d=X.useRef();d.current?d.current.setOptions(o):d.current=new jr(l,o);var c=d.current.getCurrentResult();X.useEffect(function(){s.current=!0;var f=d.current.subscribe(z.batchCalls(function(){s.current&&a(function(x){return x+1})}));return function(){s.current=!1,f()}},[]);var h=X.useCallback(function(f,x){d.current.mutate(f,x).catch(ee)},[]);if(c.error&&Js(void 0,d.current.options.useErrorBoundary,[c.error]))throw c.error;return M({},c,{mutate:h,mutateAsync:c.mutate})}function Or(t,e){var n=X.useRef(!1),s=X.useState(0),i=s[1],a=de(),o=Er(),l=a.defaultQueryObserverOptions(t);l.optimisticResults=!0,l.onError&&(l.onError=z.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=z.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=z.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var d=X.useState(function(){return new e(a,l)}),c=d[0],h=c.getOptimisticResult(l);if(X.useEffect(function(){n.current=!0,o.clearReset();var f=c.subscribe(z.batchCalls(function(){n.current&&i(function(x){return x+1})}));return c.updateResult(),function(){n.current=!1,f()}},[o,c]),X.useEffect(function(){c.setOptions(l,{listeners:!1})},[l,c]),l.suspense&&h.isLoading)throw c.fetchOptimistic(l).then(function(f){var x=f.data;l.onSuccess==null||l.onSuccess(x),l.onSettled==null||l.onSettled(x,null)}).catch(function(f){o.clearReset(),l.onError==null||l.onError(f),l.onSettled==null||l.onSettled(void 0,f)});if(h.isError&&!o.isReset()&&!h.isFetching&&Js(l.suspense,l.useErrorBoundary,[h.error,c.getCurrentQuery()]))throw h.error;return l.notifyOnChangeProps==="tracked"&&(h=c.trackResult(h,l)),h}function le(t,e,n){var s=et(t,e,n);return Or(s,yr)}function Gs(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rr}=Object.prototype,{getPrototypeOf:zt}=Object,{iterator:pt,toStringTag:Ys}=Symbol,xt=(t=>e=>{const n=Rr.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),he=t=>(t=t.toLowerCase(),e=>xt(e)===t),bt=t=>e=>typeof e===t,{isArray:De}=Array,Ae=bt("undefined");function ze(t){return t!==null&&!Ae(t)&&t.constructor!==null&&!Ae(t.constructor)&&ae(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Xs=he("ArrayBuffer");function _r(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Xs(t.buffer),e}const Pr=bt("string"),ae=bt("function"),Zs=bt("number"),We=t=>t!==null&&typeof t=="object",Fr=t=>t===!0||t===!1,nt=t=>{if(xt(t)!=="object")return!1;const e=zt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ys in t)&&!(pt in t)},Ar=t=>{if(!We(t)||ze(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Tr=he("Date"),Lr=he("File"),Dr=he("Blob"),Mr=he("FileList"),Ir=t=>We(t)&&ae(t.pipe),$r=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ae(t.append)&&((e=xt(t))==="formdata"||e==="object"&&ae(t.toString)&&t.toString()==="[object FormData]"))},qr=he("URLSearchParams"),[Ur,Qr,Br,Hr]=["ReadableStream","Request","Response","Headers"].map(he),Kr=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ve(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),De(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(ze(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(s=0;s<o;s++)l=a[s],e.call(null,t[l],l,t)}}function en(t,e){if(ze(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tn=t=>!Ae(t)&&t!==Ee;function It(){const{caseless:t,skipUndefined:e}=tn(this)&&this||{},n={},s=(i,a)=>{const o=t&&en(n,a)||a;nt(n[o])&&nt(i)?n[o]=It(n[o],i):nt(i)?n[o]=It({},i):De(i)?n[o]=i.slice():(!e||!Ae(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ve(arguments[i],s);return n}const zr=(t,e,n,{allOwnKeys:s}={})=>(Ve(e,(i,a)=>{n&&ae(i)?t[a]=Gs(i,n):t[a]=i},{allOwnKeys:s}),t),Wr=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Vr=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Jr=(t,e,n,s)=>{let i,a,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!s||s(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&zt(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Gr=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Yr=t=>{if(!t)return null;if(De(t))return t;let e=t.length;if(!Zs(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Xr=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zt(Uint8Array)),Zr=(t,e)=>{const s=(t&&t[pt]).call(t);let i;for(;(i=s.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},ei=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},ti=he("HTMLFormElement"),si=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),xs=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ni=he("RegExp"),sn=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Ve(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(s[a]=o||i)}),Object.defineProperties(t,s)},ri=t=>{sn(t,(e,n)=>{if(ae(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(ae(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ii=(t,e)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return De(t)?s(t):s(String(t).split(e)),n},ai=()=>{},oi=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function li(t){return!!(t&&ae(t.append)&&t[Ys]==="FormData"&&t[pt])}const ci=t=>{const e=new Array(10),n=(s,i)=>{if(We(s)){if(e.indexOf(s)>=0)return;if(ze(s))return s;if(!("toJSON"in s)){e[i]=s;const a=De(s)?[]:{};return Ve(s,(o,l)=>{const d=n(o,i+1);!Ae(d)&&(a[l]=d)}),e[i]=void 0,a}}return s};return n(t,0)},ui=he("AsyncFunction"),di=t=>t&&(We(t)||ae(t))&&ae(t.then)&&ae(t.catch),nn=((t,e)=>t?setImmediate:e?((n,s)=>(Ee.addEventListener("message",({source:i,data:a})=>{i===Ee&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Ee.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ae(Ee.postMessage)),hi=typeof queueMicrotask<"u"?queueMicrotask.bind(Ee):typeof process<"u"&&process.nextTick||nn,fi=t=>t!=null&&ae(t[pt]),p={isArray:De,isArrayBuffer:Xs,isBuffer:ze,isFormData:$r,isArrayBufferView:_r,isString:Pr,isNumber:Zs,isBoolean:Fr,isObject:We,isPlainObject:nt,isEmptyObject:Ar,isReadableStream:Ur,isRequest:Qr,isResponse:Br,isHeaders:Hr,isUndefined:Ae,isDate:Tr,isFile:Lr,isBlob:Dr,isRegExp:ni,isFunction:ae,isStream:Ir,isURLSearchParams:qr,isTypedArray:Xr,isFileList:Mr,forEach:Ve,merge:It,extend:zr,trim:Kr,stripBOM:Wr,inherits:Vr,toFlatObject:Jr,kindOf:xt,kindOfTest:he,endsWith:Gr,toArray:Yr,forEachEntry:Zr,matchAll:ei,isHTMLForm:ti,hasOwnProperty:xs,hasOwnProp:xs,reduceDescriptors:sn,freezeMethods:ri,toObjectSet:ii,toCamelCase:si,noop:ai,toFiniteNumber:oi,findKey:en,global:Ee,isContextDefined:tn,isSpecCompliantForm:li,toJSONObject:ci,isAsyncFn:ui,isThenable:di,setImmediate:nn,asap:hi,isIterable:fi};function A(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}p.inherits(A,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:p.toJSONObject(this.config),code:this.code,status:this.status}}});const rn=A.prototype,an={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{an[t]={value:t}});Object.defineProperties(A,an);Object.defineProperty(rn,"isAxiosError",{value:!0});A.from=(t,e,n,s,i,a)=>{const o=Object.create(rn);p.toFlatObject(t,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const l=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return A.call(o,l,d,n,s,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const mi=null;function $t(t){return p.isPlainObject(t)||p.isArray(t)}function on(t){return p.endsWith(t,"[]")?t.slice(0,-2):t}function bs(t,e,n){return t?t.concat(e).map(function(i,a){return i=on(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function pi(t){return p.isArray(t)&&!t.some($t)}const xi=p.toFlatObject(p,{},null,function(e){return/^is[A-Z]/.test(e)});function gt(t,e,n){if(!p.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=p.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!p.isUndefined(v[b])});const s=n.metaTokens,i=n.visitor||h,a=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&p.isSpecCompliantForm(e);if(!p.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(p.isDate(m))return m.toISOString();if(p.isBoolean(m))return m.toString();if(!d&&p.isBlob(m))throw new A("Blob is not supported. Use a Buffer instead.");return p.isArrayBuffer(m)||p.isTypedArray(m)?d&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function h(m,b,v){let C=m;if(m&&!v&&typeof m=="object"){if(p.endsWith(b,"{}"))b=s?b:b.slice(0,-2),m=JSON.stringify(m);else if(p.isArray(m)&&pi(m)||(p.isFileList(m)||p.endsWith(b,"[]"))&&(C=p.toArray(m)))return b=on(b),C.forEach(function(g,E){!(p.isUndefined(g)||g===null)&&e.append(o===!0?bs([b],E,a):o===null?b:b+"[]",c(g))}),!1}return $t(m)?!0:(e.append(bs(v,b,a),c(m)),!1)}const f=[],x=Object.assign(xi,{defaultVisitor:h,convertValue:c,isVisitable:$t});function y(m,b){if(!p.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(m),p.forEach(m,function(C,k){(!(p.isUndefined(C)||C===null)&&i.call(e,C,p.isString(k)?k.trim():k,b,x))===!0&&y(C,b?b.concat(k):[k])}),f.pop()}}if(!p.isObject(t))throw new TypeError("data must be an object");return y(t),e}function gs(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Wt(t,e){this._pairs=[],t&&gt(t,this,e)}const ln=Wt.prototype;ln.append=function(e,n){this._pairs.push([e,n])};ln.toString=function(e){const n=e?function(s){return e.call(this,s,gs)}:gs;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function bi(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cn(t,e,n){if(!e)return t;const s=n&&n.encode||bi;p.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=p.isURLSearchParams(e)?e.toString():new Wt(e,n).toString(s),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class ys{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){p.forEach(this.handlers,function(s){s!==null&&e(s)})}}const un={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gi=typeof URLSearchParams<"u"?URLSearchParams:Wt,yi=typeof FormData<"u"?FormData:null,vi=typeof Blob<"u"?Blob:null,ji={isBrowser:!0,classes:{URLSearchParams:gi,FormData:yi,Blob:vi},protocols:["http","https","file","blob","url","data"]},Vt=typeof window<"u"&&typeof document<"u",qt=typeof navigator=="object"&&navigator||void 0,Ni=Vt&&(!qt||["ReactNative","NativeScript","NS"].indexOf(qt.product)<0),wi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Si=Vt&&window.location.href||"http://localhost",Ci=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vt,hasStandardBrowserEnv:Ni,hasStandardBrowserWebWorkerEnv:wi,navigator:qt,origin:Si},Symbol.toStringTag,{value:"Module"})),se={...Ci,...ji};function ki(t,e){return gt(t,new se.classes.URLSearchParams,{visitor:function(n,s,i,a){return se.isNode&&p.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Ei(t){return p.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Oi(t){const e={},n=Object.keys(t);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],e[a]=t[a];return e}function dn(t){function e(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=a>=n.length;return o=!o&&p.isArray(i)?i.length:o,d?(p.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!p.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],a)&&p.isArray(i[o])&&(i[o]=Oi(i[o])),!l)}if(p.isFormData(t)&&p.isFunction(t.entries)){const n={};return p.forEachEntry(t,(s,i)=>{e(Ei(s),i,n,0)}),n}return null}function Ri(t,e,n){if(p.isString(t))try{return(e||JSON.parse)(t),p.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Je={transitional:un,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=p.isObject(e);if(a&&p.isHTMLForm(e)&&(e=new FormData(e)),p.isFormData(e))return i?JSON.stringify(dn(e)):e;if(p.isArrayBuffer(e)||p.isBuffer(e)||p.isStream(e)||p.isFile(e)||p.isBlob(e)||p.isReadableStream(e))return e;if(p.isArrayBufferView(e))return e.buffer;if(p.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ki(e,this.formSerializer).toString();if((l=p.isFileList(e))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return gt(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Ri(e)):e}],transformResponse:[function(e){const n=this.transitional||Je.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(p.isResponse(e)||p.isReadableStream(e))return e;if(e&&p.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?A.from(l,A.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:se.classes.FormData,Blob:se.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};p.forEach(["delete","get","head","post","put","patch"],t=>{Je.headers[t]={}});const _i=p.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pi=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&_i[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},vs=Symbol("internals");function qe(t){return t&&String(t).trim().toLowerCase()}function rt(t){return t===!1||t==null?t:p.isArray(t)?t.map(rt):String(t)}function Fi(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const Ai=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function St(t,e,n,s,i){if(p.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!p.isString(e)){if(p.isString(s))return e.indexOf(s)!==-1;if(p.isRegExp(s))return s.test(e)}}function Ti(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function Li(t,e){const n=p.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,a,o){return this[s].call(this,e,i,a,o)},configurable:!0})})}let oe=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function a(l,d,c){const h=qe(d);if(!h)throw new Error("header name must be a non-empty string");const f=p.findKey(i,h);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||d]=rt(l))}const o=(l,d)=>p.forEach(l,(c,h)=>a(c,h,d));if(p.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(p.isString(e)&&(e=e.trim())&&!Ai(e))o(Pi(e),n);else if(p.isObject(e)&&p.isIterable(e)){let l={},d,c;for(const h of e){if(!p.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[c=h[0]]=(d=l[c])?p.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,n)}else e!=null&&a(n,e,s);return this}get(e,n){if(e=qe(e),e){const s=p.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return Fi(i);if(p.isFunction(n))return n.call(this,i,s);if(p.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qe(e),e){const s=p.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||St(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function a(o){if(o=qe(o),o){const l=p.findKey(s,o);l&&(!n||St(s,s[l],l,n))&&(delete s[l],i=!0)}}return p.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!e||St(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,s={};return p.forEach(this,(i,a)=>{const o=p.findKey(s,a);if(o){n[o]=rt(i),delete n[a];return}const l=e?Ti(a):String(a).trim();l!==a&&delete n[a],n[l]=rt(i),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return p.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&p.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[vs]=this[vs]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=qe(o);s[l]||(Li(i,o),s[l]=!0)}return p.isArray(e)?e.forEach(a):a(e),this}};oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);p.reduceDescriptors(oe.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});p.freezeMethods(oe);function Ct(t,e){const n=this||Je,s=e||n,i=oe.from(s.headers);let a=s.data;return p.forEach(t,function(l){a=l.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function hn(t){return!!(t&&t.__CANCEL__)}function Me(t,e,n){A.call(this,t??"canceled",A.ERR_CANCELED,e,n),this.name="CanceledError"}p.inherits(Me,A,{__CANCEL__:!0});function fn(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new A("Request failed with status code "+n.status,[A.ERR_BAD_REQUEST,A.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Di(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Mi(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(d){const c=Date.now(),h=s[a];o||(o=c),n[i]=d,s[i]=c;let f=a,x=0;for(;f!==i;)x+=n[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),c-o<e)return;const y=h&&c-h;return y?Math.round(x*1e3/y):void 0}}function Ii(t,e){let n=0,s=1e3/e,i,a;const o=(c,h=Date.now())=>{n=h,i=null,a&&(clearTimeout(a),a=null),t(...c)};return[(...c)=>{const h=Date.now(),f=h-n;f>=s?o(c,h):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},s-f)))},()=>i&&o(i)]}const ft=(t,e,n=3)=>{let s=0;const i=Mi(50,250);return Ii(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,d=o-s,c=i(d),h=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&h?(l-o)/c:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},js=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Ns=t=>(...e)=>p.asap(()=>t(...e)),$i=se.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,se.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(se.origin),se.navigator&&/(msie|trident)/i.test(se.navigator.userAgent)):()=>!0,qi=se.hasStandardBrowserEnv?{write(t,e,n,s,i,a,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];p.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),p.isString(s)&&l.push(`path=${s}`),p.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),p.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ui(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Qi(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mn(t,e,n){let s=!Ui(e);return t&&(s||n==!1)?Qi(t,e):e}const ws=t=>t instanceof oe?{...t}:t;function Re(t,e){e=e||{};const n={};function s(c,h,f,x){return p.isPlainObject(c)&&p.isPlainObject(h)?p.merge.call({caseless:x},c,h):p.isPlainObject(h)?p.merge({},h):p.isArray(h)?h.slice():h}function i(c,h,f,x){if(p.isUndefined(h)){if(!p.isUndefined(c))return s(void 0,c,f,x)}else return s(c,h,f,x)}function a(c,h){if(!p.isUndefined(h))return s(void 0,h)}function o(c,h){if(p.isUndefined(h)){if(!p.isUndefined(c))return s(void 0,c)}else return s(void 0,h)}function l(c,h,f){if(f in e)return s(c,h);if(f in t)return s(void 0,c)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,h,f)=>i(ws(c),ws(h),f,!0)};return p.forEach(Object.keys({...t,...e}),function(h){const f=d[h]||i,x=f(t[h],e[h],h);p.isUndefined(x)&&f!==l||(n[h]=x)}),n}const pn=t=>{const e=Re({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;if(e.headers=o=oe.from(o),e.url=cn(mn(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),p.isFormData(n)){if(se.hasStandardBrowserEnv||se.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(p.isFunction(n.getHeaders)){const d=n.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([h,f])=>{c.includes(h.toLowerCase())&&o.set(h,f)})}}if(se.hasStandardBrowserEnv&&(s&&p.isFunction(s)&&(s=s(e)),s||s!==!1&&$i(e.url))){const d=i&&a&&qi.read(a);d&&o.set(i,d)}return e},Bi=typeof XMLHttpRequest<"u",Hi=Bi&&function(t){return new Promise(function(n,s){const i=pn(t);let a=i.data;const o=oe.from(i.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=i,h,f,x,y,m;function b(){y&&y(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function C(){if(!v)return;const g=oe.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:g,config:t,request:v};fn(function(j){n(j),b()},function(j){s(j),b()},T),v=null}"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(C)},v.onabort=function(){v&&(s(new A("Request aborted",A.ECONNABORTED,t,v)),v=null)},v.onerror=function(E){const T=E&&E.message?E.message:"Network Error",R=new A(T,A.ERR_NETWORK,t,v);R.event=E||null,s(R),v=null},v.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||un;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),s(new A(E,T.clarifyTimeoutError?A.ETIMEDOUT:A.ECONNABORTED,t,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&p.forEach(o.toJSON(),function(E,T){v.setRequestHeader(T,E)}),p.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),c&&([x,m]=ft(c,!0),v.addEventListener("progress",x)),d&&v.upload&&([f,y]=ft(d),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=g=>{v&&(s(!g||g.type?new Me(null,t,v):g),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const k=Di(i.url);if(k&&se.protocols.indexOf(k)===-1){s(new A("Unsupported protocol "+k+":",A.ERR_BAD_REQUEST,t));return}v.send(a||null)})},Ki=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const a=function(c){if(!i){i=!0,l();const h=c instanceof Error?c:this.reason;s.abort(h instanceof A?h:new Me(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,a(new A(`timeout ${e} of ms exceeded`,A.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),t=null)};t.forEach(c=>c.addEventListener("abort",a));const{signal:d}=s;return d.unsubscribe=()=>p.asap(l),d}},zi=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},Wi=async function*(t,e){for await(const n of Vi(t))yield*zi(n,e)},Vi=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Ss=(t,e,n,s)=>{const i=Wi(t,e);let a=0,o,l=d=>{o||(o=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:c,value:h}=await i.next();if(c){l(),d.close();return}let f=h.byteLength;if(n){let x=a+=f;n(x)}d.enqueue(new Uint8Array(h))}catch(c){throw l(c),c}},cancel(d){return l(d),i.return()}},{highWaterMark:2})},Cs=64*1024,{isFunction:Ze}=p,Ji=(({Request:t,Response:e})=>({Request:t,Response:e}))(p.global),{ReadableStream:ks,TextEncoder:Es}=p.global,Os=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Gi=t=>{t=p.merge.call({skipUndefined:!0},Ji,t);const{fetch:e,Request:n,Response:s}=t,i=e?Ze(e):typeof fetch=="function",a=Ze(n),o=Ze(s);if(!i)return!1;const l=i&&Ze(ks),d=i&&(typeof Es=="function"?(m=>b=>m.encode(b))(new Es):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=a&&l&&Os(()=>{let m=!1;const b=new n(se.origin,{body:new ks,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!b}),h=o&&l&&Os(()=>p.isReadableStream(new s("").body)),f={stream:h&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(b,v)=>{let C=b&&b[m];if(C)return C.call(b);throw new A(`Response type '${m}' is not supported`,A.ERR_NOT_SUPPORT,v)})});const x=async m=>{if(m==null)return 0;if(p.isBlob(m))return m.size;if(p.isSpecCompliantForm(m))return(await new n(se.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(p.isArrayBufferView(m)||p.isArrayBuffer(m))return m.byteLength;if(p.isURLSearchParams(m)&&(m=m+""),p.isString(m))return(await d(m)).byteLength},y=async(m,b)=>{const v=p.toFiniteNumber(m.getContentLength());return v??x(b)};return async m=>{let{url:b,method:v,data:C,signal:k,cancelToken:g,timeout:E,onDownloadProgress:T,onUploadProgress:R,responseType:j,headers:q,withCredentials:J="same-origin",fetchOptions:U}=pn(m),V=e||fetch;j=j?(j+"").toLowerCase():"text";let Q=Ki([k,g&&g.toAbortSignal()],E),_=null;const B=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let P;try{if(R&&c&&v!=="get"&&v!=="head"&&(P=await y(q,C))!==0){let Z=new n(b,{method:"POST",body:C,duplex:"half"}),re;if(p.isFormData(C)&&(re=Z.headers.get("content-type"))&&q.setContentType(re),Z.body){const[je,ge]=js(P,ft(Ns(R)));C=Ss(Z.body,Cs,je,ge)}}p.isString(J)||(J=J?"include":"omit");const L=a&&"credentials"in n.prototype,ne={...U,signal:Q,method:v.toUpperCase(),headers:q.normalize().toJSON(),body:C,duplex:"half",credentials:L?J:void 0};_=a&&new n(b,ne);let D=await(a?V(_,U):V(b,ne));const W=h&&(j==="stream"||j==="response");if(h&&(T||W&&B)){const Z={};["status","statusText","headers"].forEach(ye=>{Z[ye]=D[ye]});const re=p.toFiniteNumber(D.headers.get("content-length")),[je,ge]=T&&js(re,ft(Ns(T),!0))||[];D=new s(Ss(D.body,Cs,je,()=>{ge&&ge(),B&&B()}),Z)}j=j||"text";let ce=await f[p.findKey(f,j)||"text"](D,m);return!W&&B&&B(),await new Promise((Z,re)=>{fn(Z,re,{data:ce,headers:oe.from(D.headers),status:D.status,statusText:D.statusText,config:m,request:_})})}catch(L){throw B&&B(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new A("Network Error",A.ERR_NETWORK,m,_),{cause:L.cause||L}):A.from(L,L&&L.code,m,_)}}},Yi=new Map,xn=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:i}=e,a=[s,i,n];let o=a.length,l=o,d,c,h=Yi;for(;l--;)d=a[l],c=h.get(d),c===void 0&&h.set(d,c=l?new Map:Gi(e)),h=c;return c};xn();const Jt={http:mi,xhr:Hi,fetch:{get:xn}};p.forEach(Jt,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Rs=t=>`- ${t}`,Xi=t=>p.isFunction(t)||t===null||t===!1;function Zi(t,e){t=p.isArray(t)?t:[t];const{length:n}=t;let s,i;const a={};for(let o=0;o<n;o++){s=t[o];let l;if(i=s,!Xi(s)&&(i=Jt[(l=String(s)).toLowerCase()],i===void 0))throw new A(`Unknown adapter '${l}'`);if(i&&(p.isFunction(i)||(i=i.get(e))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Rs).join(`
`):" "+Rs(o[0]):"as no adapter specified";throw new A("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const bn={getAdapter:Zi,adapters:Jt};function kt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Me(null,t)}function _s(t){return kt(t),t.headers=oe.from(t.headers),t.data=Ct.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bn.getAdapter(t.adapter||Je.adapter,t)(t).then(function(s){return kt(t),s.data=Ct.call(t,t.transformResponse,s),s.headers=oe.from(s.headers),s},function(s){return hn(s)||(kt(t),s&&s.response&&(s.response.data=Ct.call(t,t.transformResponse,s.response),s.response.headers=oe.from(s.response.headers))),Promise.reject(s)})}const gn="1.13.2",yt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{yt[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Ps={};yt.transitional=function(e,n,s){function i(a,o){return"[Axios v"+gn+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(e===!1)throw new A(i(o," has been removed"+(n?" in "+n:"")),A.ERR_DEPRECATED);return n&&!Ps[o]&&(Ps[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,l):!0}};yt.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function ea(t,e,n){if(typeof t!="object")throw new A("options must be an object",A.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const a=s[i],o=e[a];if(o){const l=t[a],d=l===void 0||o(l,a,t);if(d!==!0)throw new A("option "+a+" must be "+d,A.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new A("Unknown option "+a,A.ERR_BAD_OPTION)}}const it={assertOptions:ea,validators:yt},me=it.validators;let Oe=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ys,response:new ys}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Re(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&it.assertOptions(s,{silentJSONParsing:me.transitional(me.boolean),forcedJSONParsing:me.transitional(me.boolean),clarifyTimeoutError:me.transitional(me.boolean)},!1),i!=null&&(p.isFunction(i)?n.paramsSerializer={serialize:i}:it.assertOptions(i,{encode:me.function,serialize:me.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),it.assertOptions(n,{baseUrl:me.spelling("baseURL"),withXsrfToken:me.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&p.merge(a.common,a[n.method]);a&&p.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=oe.concat(o,a);const l=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(d=d&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let h,f=0,x;if(!d){const m=[_s.bind(this),void 0];for(m.unshift(...l),m.push(...c),x=m.length,h=Promise.resolve(n);f<x;)h=h.then(m[f++],m[f++]);return h}x=l.length;let y=n;for(;f<x;){const m=l[f++],b=l[f++];try{y=m(y)}catch(v){b.call(this,v);break}}try{h=_s.call(this,y)}catch(m){return Promise.reject(m)}for(f=0,x=c.length;f<x;)h=h.then(c[f++],c[f++]);return h}getUri(e){e=Re(this.defaults,e);const n=mn(e.baseURL,e.url,e.allowAbsoluteUrls);return cn(n,e.params,e.paramsSerializer)}};p.forEach(["delete","get","head","options"],function(e){Oe.prototype[e]=function(n,s){return this.request(Re(s||{},{method:e,url:n,data:(s||{}).data}))}});p.forEach(["post","put","patch"],function(e){function n(s){return function(a,o,l){return this.request(Re(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Oe.prototype[e]=n(),Oe.prototype[e+"Form"]=n(!0)});let ta=class yn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},e(function(a,o,l){s.reason||(s.reason=new Me(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new yn(function(i){e=i}),cancel:e}}};function sa(t){return function(n){return t.apply(null,n)}}function na(t){return p.isObject(t)&&t.isAxiosError===!0}const Ut={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ut).forEach(([t,e])=>{Ut[e]=t});function vn(t){const e=new Oe(t),n=Gs(Oe.prototype.request,e);return p.extend(n,Oe.prototype,e,{allOwnKeys:!0}),p.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return vn(Re(t,i))},n}const Y=vn(Je);Y.Axios=Oe;Y.CanceledError=Me;Y.CancelToken=ta;Y.isCancel=hn;Y.VERSION=gn;Y.toFormData=gt;Y.AxiosError=A;Y.Cancel=Y.CanceledError;Y.all=function(e){return Promise.all(e)};Y.spread=sa;Y.isAxiosError=na;Y.mergeConfig=Re;Y.AxiosHeaders=oe;Y.formToJSON=t=>dn(p.isHTMLForm(t)?new FormData(t):t);Y.getAdapter=bn.getAdapter;Y.HttpStatusCode=Ut;Y.default=Y;const{Axios:co,AxiosError:uo,CanceledError:ho,isCancel:fo,CancelToken:mo,VERSION:po,all:xo,Cancel:bo,isAxiosError:go,spread:yo,toFormData:vo,AxiosHeaders:jo,HttpStatusCode:No,formToJSON:wo,getAdapter:So,mergeConfig:Co}=Y,I=Y.create({baseURL:"",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});console.log(" API Configuration [Build: 2025-11-10T20:00 - SIMPLIFIED]:",{baseURL:"(empty = relative to current origin)",currentOrigin:window.location.origin,hostname:window.location.hostname,note:"All API requests will be relative to current page origin"});I.interceptors.request.use(t=>{const e=localStorage.getItem("auth_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const Gt={getAccounts:async()=>(await I.get("/api/accounts")).data,getAccountInfo:async()=>(await I.get("/api/account/info")).data,switchAccount:async t=>(await I.post("/api/account/switch",{account_id:t})).data},xe={getPositions:async()=>(await I.get(`/api/positions?_t=${Date.now()}`)).data,closePosition:async(t,e)=>{await I.post(`/api/positions/${t}/close`,{quantity:e})},modifyStopLoss:async(t,e)=>{await I.post(`/api/positions/${t}/modify-stop`,{stop_price:e})},modifyTakeProfit:async(t,e)=>{await I.post(`/api/positions/${t}/modify-tp`,{take_profit:e})},flattenAll:async()=>{await I.post("/api/positions/flatten")},enableTrailingStop:async(t,e)=>(await I.post(`/api/positions/${t}/trailing-stop`,{enabled:!0,trail_amount:e})).data,disableTrailingStop:async t=>(await I.post(`/api/positions/${t}/trailing-stop`,{enabled:!1})).data,enableBreakeven:async t=>(await I.post(`/api/positions/${t}/breakeven`,{enabled:!0})).data,disableBreakeven:async t=>(await I.post(`/api/positions/${t}/breakeven`,{enabled:!1})).data},Qe={getOrders:async()=>(await I.get(`/api/orders?_t=${Date.now()}`)).data,cancelOrder:async t=>{await I.post(`/api/orders/${t}/cancel`)},cancelAll:async t=>{await I.post("/api/orders/cancel-all",t?{account_id:t}:{})},modifyOrder:async(t,e)=>(await I.post(`/api/orders/${t}/modify`,e)).data,placeOrder:async t=>{const e={...t};return e.symbol&&(e.symbol=e.symbol.trim().toUpperCase()),e.order_type&&(e.order_type=e.order_type.toLowerCase()),(await I.post("/api/orders/place",e)).data}},Et={getStrategies:async()=>(await I.get("/api/strategies")).data,getStrategyStatus:async()=>(await I.get("/api/strategies/status")).data,startStrategy:async(t,e,n)=>{const s={symbols:e??[]};return n&&(s.accountId=n),(await I.post(`/api/strategies/${t}/start`,s)).data},stopStrategy:async(t,e)=>{const n={};return e&&(n.accountId=e),(await I.post(`/api/strategies/${t}/stop`,n)).data},getStrategyStats:async(t,e)=>{const n=e?`?account_id=${e}`:"";return(await I.get(`/api/strategies/${t}/stats${n}`)).data},getStrategyLogs:async(t,e)=>{const n=e?`?limit=${e}`:"";return(await I.get(`/api/strategies/${t}/logs${n}`)).data},testStrategy:async(t,e)=>{const n={};return e&&(n.account_id=e),(await I.post(`/api/strategies/${t}/test`,n)).data}},ra={getMetrics:async()=>{const t=await I.get("/api/metrics");return t.data.performance||t.data}},ia={getRisk:async t=>{const e=t?`?account_id=${encodeURIComponent(t)}`:"";return(await I.get(`/api/risk${e}`)).data}},aa={getTrades:async(t={})=>{const e=new URLSearchParams;t.accountId&&e.append("account_id",t.accountId),t.start&&e.append("start",t.start),t.end&&e.append("end",t.end),t.symbol&&e.append("symbol",t.symbol),t.type&&e.append("type",t.type),t.limit&&e.append("limit",String(t.limit)),t.cursor&&e.append("cursor",t.cursor),e.append("refresh","1"),e.append("_t",Date.now().toString());const n=e.toString();return(await I.get(`/api/trades${n?`?${n}`:""}`)).data}},jn={getPerformanceSummary:async()=>(await I.get("/api/performance")).data,getPerformanceHistory:async(t={})=>{const e=new URLSearchParams;t.accountId&&e.append("account_id",t.accountId),t.interval&&e.append("interval",t.interval),t.start&&e.append("start",t.start),t.end&&e.append("end",t.end);const n=e.toString();return(await I.get(`/api/performance/history${n?`?${n}`:""}`)).data},getHistoricalData:async t=>{const e=new URLSearchParams;return e.append("symbol",t.symbol),t.timeframe&&e.append("timeframe",t.timeframe),t.limit&&e.append("limit",String(t.limit)),t.end&&e.append("end",t.end),(await I.get(`/api/history?${e.toString()}`)).data}},Qt={getSettings:async(t="global")=>{const e=t&&t!=="global"?`?account_id=${t}`:"";return(await I.get(`/api/settings${e}`)).data},saveSettings:async t=>{const e={...t};return(await I.post("/api/settings",e)).data}},oa={getNotifications:async t=>{const e=t?`?account_id=${t}`:"";return(await I.get(`/api/notifications${e}`)).data}},la={testOvernightBreakout:async(t,e,n)=>(await I.post("/api/test/overnight-breakout",{symbol:t||"MNQ",quantity:e||1,account_name:n||"PRAC"})).data},Nn=N.createContext(void 0);function ca({children:t}){const[e,n]=N.useState(null),{data:s=[],isLoading:i}=le("accounts",Gt.getAccounts,{refetchInterval:6e4,staleTime:3e4}),{data:a}=le(["settings","global"],()=>Qt.getSettings("global"),{staleTime:6e4,refetchOnWindowFocus:!1});return N.useEffect(()=>{var o;if(s.length>0&&!e){const l=(o=a==null?void 0:a.settings)==null?void 0:o.defaultAccount,d=l?s.find(c=>String(c.id)===String(l)||String(c.account_id)===String(l)||String(c.accountId)===String(l)):null;n(d||s[0])}},[s,e,a]),r.jsx(Nn.Provider,{value:{accounts:s,selectedAccount:e,setSelectedAccount:n,isLoading:i},children:t})}function be(){const t=N.useContext(Nn);if(t===void 0)throw new Error("useAccount must be used within an AccountProvider");return t}const ua=()=>{const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"?"ws://localhost:8080/ws":`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`},wn=ua();console.log(" WebSocket Configuration [Build: 2025-11-10T19:45 - FIXED]:",{url:wn,hostname:window.location.hostname,protocol:window.location.protocol,isLocalhost:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"});class da{constructor(){ve(this,"socket",null);ve(this,"listeners",new Map);ve(this,"reconnectAttempts",0);ve(this,"maxReconnectAttempts",8);ve(this,"reconnectDelay",1e3);ve(this,"heartbeatIntervalId",null);ve(this,"HEARTBEAT_INTERVAL",3e4);ve(this,"manualClose",!1)}connect(){if(!(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))){this.notify("socket_connecting",{timestamp:new Date().toISOString()});try{this.manualClose=!1,this.socket=new WebSocket(wn),this.socket.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.notify("socket_connected",{timestamp:new Date().toISOString()}),this.startHeartbeat()},this.socket.onclose=e=>{console.log("WebSocket disconnected",e.reason||""),this.clearHeartbeat(),this.notify("socket_disconnected",{code:e.code,reason:e.reason,wasClean:e.wasClean,timestamp:new Date().toISOString()}),this.manualClose||this.attemptReconnect()},this.socket.onmessage=e=>{try{const n=JSON.parse(e.data);this.handleMessage(n)}catch(n){console.error("Error parsing WebSocket message:",n)}},this.socket.onerror=e=>{console.error("WebSocket error:",e),this.notify("socket_error",{error:e})}}catch(e){console.error("Failed to create WebSocket:",e),this.notify("socket_error",{error:e}),this.attemptReconnect()}}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached"),this.notify("socket_failed",{attempts:this.reconnectAttempts,timestamp:new Date().toISOString()});return}this.reconnectAttempts++;const e=this.reconnectDelay*this.reconnectAttempts;console.log(`Reconnecting in ${e}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),this.notify("socket_reconnecting",{attempt:this.reconnectAttempts,delay:e,timestamp:new Date().toISOString()}),window.setTimeout(()=>{this.connect()},e)}disconnect(){this.manualClose=!0,this.clearHeartbeat(),this.socket&&(this.socket.close(),this.socket=null)}forceReconnect(){this.manualClose=!1,this.reconnectAttempts=0,this.clearHeartbeat(),this.socket&&(this.socket.close(),this.socket=null),this.connect()}on(e,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n)}off(e,n){var s;(s=this.listeners.get(e))==null||s.delete(n)}emit(e,n){var s;((s=this.socket)==null?void 0:s.readyState)===WebSocket.OPEN&&this.socket.send(JSON.stringify({action:e,payload:n}))}handleMessage(e){const n=this.listeners.get(e.type);n&&n.forEach(s=>s(e.data))}notify(e,n){const s=this.listeners.get(e);s&&s.forEach(i=>i(n))}startHeartbeat(){this.clearHeartbeat(),this.heartbeatIntervalId=window.setInterval(()=>{var e;((e=this.socket)==null?void 0:e.readyState)===WebSocket.OPEN&&this.socket.send(JSON.stringify({action:"ping",payload:{timestamp:Date.now()}}))},this.HEARTBEAT_INTERVAL)}clearHeartbeat(){this.heartbeatIntervalId!==null&&(window.clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=null)}isConnected(){var e;return((e=this.socket)==null?void 0:e.readyState)===WebSocket.OPEN||!1}}const $=new da,Sn=N.createContext(void 0);function ha({children:t}){const[e,n]=N.useState("connecting"),[s,i]=N.useState(0),[a,o]=N.useState(null),[l,d]=N.useState(null),[c,h]=N.useState(null);N.useEffect(()=>{const y=()=>{n("connecting"),h(null)},m=g=>{n("connected"),i(0),o((g==null?void 0:g.timestamp)??new Date().toISOString()),h(null)},b=g=>{n("disconnected"),d((g==null?void 0:g.timestamp)??new Date().toISOString())},v=g=>{n("reconnecting"),g!=null&&g.attempt?i(g.attempt):i(E=>E+1)},C=g=>{var T;n("error");const E=(g==null?void 0:g.error)instanceof Event?g.error.type:((T=g==null?void 0:g.error)==null?void 0:T.message)??"Unknown error";h(E)},k=g=>{n("error"),g!=null&&g.attempts&&i(g.attempts)};return $.on("socket_connecting",y),$.on("socket_connected",m),$.on("socket_disconnected",b),$.on("socket_reconnecting",v),$.on("socket_error",C),$.on("socket_failed",k),$.connect(),()=>{$.off("socket_connecting",y),$.off("socket_connected",m),$.off("socket_disconnected",b),$.off("socket_reconnecting",v),$.off("socket_error",C),$.off("socket_failed",k)}},[]);const f=N.useCallback(()=>{n("connecting"),h(null),i(0),$.forceReconnect()},[]),x=N.useMemo(()=>({status:e,reconnectAttempts:s,lastConnectedAt:a,lastDisconnectedAt:l,lastError:c,reconnect:f,isConnected:$.isConnected()}),[e,s,a,l,c,f]);return r.jsx(Sn.Provider,{value:x,children:t})}function fa(){const t=N.useContext(Sn);if(!t)throw new Error("useWebSocket must be used within a WebSocketProvider");return t}const Cn=()=>{const t=de();N.useEffect(()=>{const e=()=>{t.invalidateQueries("positions"),t.invalidateQueries("orders")},n=()=>{t.invalidateQueries("positions")},s=()=>{t.invalidateQueries("orders")};return $.on("marketUpdate",e),$.on("position_update",n),$.on("order_update",s),()=>{$.off("marketUpdate",e),$.off("position_update",n),$.off("order_update",s)}},[t])};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ma={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(t,e)=>{const n=N.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:d,...c},h)=>N.createElement("svg",{ref:h,...ma,width:i,height:i,stroke:s,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${pa(t)}`,l].join(" "),...c},[...e.map(([f,x])=>N.createElement(f,x)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=K("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=K("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=K("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=K("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=K("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=K("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=K("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=K("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=K("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Oa({account:t,isSelected:e,onSelect:n}){const s=t.dailyPnL??t.daily_pnl??0,i=s>=0?"text-green-400":"text-red-400",a=s>=0?jt:es;return r.jsxs("div",{className:`p-6 rounded-lg border-2 transition-all cursor-pointer ${e?"bg-slate-800 border-primary-500 shadow-lg shadow-primary-500/20":"bg-slate-800/50 border-slate-700 hover:border-slate-600"}`,onClick:n,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:t.name}),r.jsx("p",{className:"text-sm text-slate-400",children:t.account_type})]}),r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${t.status==="active"?"bg-green-500/20 text-green-400":"bg-slate-700 text-slate-400"}`,children:t.status})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"w-5 h-5 text-slate-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-400",children:"Balance"}),r.jsxs("p",{className:"text-2xl font-bold",children:[t.currency," ",t.balance.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),s!==0&&r.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[r.jsx(a,{className:"w-4 h-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"P&L"}),r.jsxs("p",{className:"text-lg font-semibold",children:[s>=0?"+":"",t.currency," ",Math.abs(s).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})}function Nt({accounts:t,selectedAccount:e,onAccountChange:n}){var h;const[s,i]=N.useState(!1),a=de(),o=f=>f.id||f.accountId||f.account_id||f.name||"unknown",l=f=>f.name||f.accountId||f.account_id||o(f),d=te(f=>Gt.switchAccount(f),{onSuccess:f=>{if(f.success&&f.account){const x={id:f.account.id||f.account.accountId||f.account.account_id||o(f.account),name:f.account.name||f.account.accountId||o(f.account),status:f.account.status||"active",balance:Number(f.account.balance??0),currency:f.account.currency||"USD",account_type:f.account.account_type||"unknown",accountId:f.account.accountId,account_id:f.account.account_id,equity:f.account.equity??f.account.balance??0,dailyPnL:f.account.dailyPnL??f.account.daily_pnl??0,daily_pnl:f.account.dailyPnL??f.account.daily_pnl??0};n(x),a.setQueryData("accountInfo",x),a.setQueryData("accounts",m=>(m==null?void 0:m.map(b=>o(b)===x.id?{...b,balance:x.balance,status:x.status}:b))||[]),["accounts","accountInfo","positions","orders","metrics","trades","performance","performanceHistory","historicalData"].forEach(m=>a.invalidateQueries({predicate:b=>b.queryKey[0]===m})),i(!1)}},onError:f=>{console.error("Failed to switch account:",f)}}),c=async f=>{const x=e?o(e):null,y=o(f);if(y===x){i(!1);return}d.mutate(y)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>i(!s),className:"w-full bg-slate-700 hover:bg-slate-600 rounded-lg px-4 py-3 flex items-center justify-between transition-colors border border-slate-600",disabled:d.isLoading,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsx("div",{className:"text-left",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-medium",children:l(e)}),r.jsxs("div",{className:"text-xs text-slate-400",children:["$",((h=e.balance)==null?void 0:h.toLocaleString())||"N/A"]})]}):r.jsx("div",{className:"text-slate-400",children:"Select Account"})})]}),r.jsx(vt,{className:`w-5 h-5 transition-transform ${s?"rotate-180":""}`})]}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),r.jsx("div",{className:"absolute top-full mt-2 w-full bg-slate-700 border border-slate-600 rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:t.length===0?r.jsx("div",{className:"px-4 py-3 text-slate-400 text-sm",children:"No accounts available"}):t.map(f=>{var v;const x=o(f),y=e?o(e):null,m=x===y,b=d.isLoading&&d.variables===x;return r.jsxs("button",{onClick:()=>c(f),disabled:d.isLoading,className:`w-full px-4 py-3 flex items-center justify-between hover:bg-slate-600 transition-colors ${m?"bg-slate-600":""} ${d.isLoading?"opacity-50":""}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${f.status==="active"?"bg-green-500":"bg-slate-500"}`}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:l(f)}),r.jsxs("div",{className:"text-xs text-slate-400",children:["$",((v=f.balance)==null?void 0:v.toLocaleString())||"N/A",f.status&&r.jsxs("span",{className:"ml-2 capitalize",children:[" ",f.status]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[b&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-500"}),m&&!b&&r.jsx(Fs,{className:"w-5 h-5 text-primary-400"})]})]},x)})})]}),d.isError&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-400 text-sm",children:[r.jsx(He,{className:"w-4 h-4"}),r.jsx("span",{children:"Failed to switch account"})]}),d.isSuccess&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-green-400 text-sm",children:[r.jsx(Fs,{className:"w-4 h-4"}),r.jsx("span",{children:"Account switched successfully"})]})]})}function Ra({metrics:t}){return r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Performance Metrics"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"text-sm font-medium text-slate-400 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-4 h-4"}),"System"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Memory"}),r.jsxs("p",{className:"font-semibold",children:[t.system.memory_mb," MB"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"CPU"}),r.jsxs("p",{className:"font-semibold",children:[t.system.cpu_percent,"%"]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-slate-400",children:"Uptime"}),r.jsx("p",{className:"font-semibold",children:t.system.uptime})]})]})]}),r.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-700",children:[r.jsxs("h3",{className:"text-sm font-medium text-slate-400 flex items-center gap-2",children:[r.jsx(Bt,{className:"w-4 h-4"}),"API Calls"]}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Total"}),r.jsx("span",{className:"font-semibold",children:t.api.total_calls})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Errors"}),r.jsx("span",{className:`font-semibold ${t.api.total_errors>0?"text-red-400":"text-green-400"}`,children:t.api.total_errors})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Error Rate"}),r.jsxs("span",{className:`font-semibold ${t.api.error_rate>1?"text-red-400":"text-green-400"}`,children:[t.api.error_rate.toFixed(2),"%"]})]})]})]}),Object.keys(t.cache).length>0&&r.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-700",children:[r.jsxs("h3",{className:"text-sm font-medium text-slate-400 flex items-center gap-2",children:[r.jsx(ga,{className:"w-4 h-4"}),"Cache"]}),r.jsx("div",{className:"space-y-2",children:Object.entries(t.cache).map(([e,n])=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-slate-400 text-xs",children:e}),r.jsx("span",{className:"font-semibold",children:n.hit_rate})]}),r.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5",children:r.jsx("div",{className:"bg-primary-500 h-1.5 rounded-full transition-all",style:{width:n.hit_rate}})})]},e))})]})]})]})}function _a(){const{selectedAccount:t}=be(),e=t==null?void 0:t.id,{data:n=[],isLoading:s}=le(["positions",e],xe.getPositions,{enabled:!!e,staleTime:6e4,refetchOnWindowFocus:!1});return s?r.jsx("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:r.jsx("p",{className:"text-slate-400",children:"Loading positions..."})}):n.length===0?r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Open Positions"}),r.jsx("p",{className:"text-slate-400",children:"No open positions"})]}):r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Open Positions"}),r.jsx("div",{className:"space-y-3",children:n.map(i=>{const a=i.side==="LONG",o=Number(i.unrealized_pnl??0),l=Number(i.realized_pnl??0),d=Number(i.entry_price??0),c=Number(i.current_price??d),h=o>=0?jt:es,f=o>=0?"text-green-400":"text-red-400";return r.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg border border-slate-600",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${a?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:i.side}),r.jsx("span",{className:"font-semibold",children:i.symbol}),r.jsxs("span",{className:"text-slate-400 text-sm",children:["x",Number(i.quantity??0)]})]}),r.jsxs("div",{className:`flex items-center gap-1 ${f}`,children:[r.jsx(h,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-semibold",children:["$",o.toFixed(2)]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Entry"}),r.jsxs("p",{className:"font-semibold",children:["$",d.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Current"}),r.jsxs("p",{className:"font-semibold",children:["$",c.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Realized P&L"}),r.jsxs("p",{className:`font-semibold ${l>=0?"text-green-400":"text-red-400"}`,children:["$",l.toFixed(2)]})]})]})]},i.id||`${i.symbol}-${i.entry_price}`)})})]})}const Pa=[{label:"Trade",value:"trade"},{label:"Day",value:"day"},{label:"Week",value:"week"},{label:"Month",value:"month"}];function Fa(){const{selectedAccount:t}=be(),[e,n]=N.useState("day"),{data:s,isLoading:i}=le(["performanceHistory",t==null?void 0:t.id,e],async()=>{console.log(" PerformanceChart: Fetching performance history for account:",t==null?void 0:t.id,"interval:",e);try{const l=await jn.getPerformanceHistory({accountId:t==null?void 0:t.id,interval:e});return console.log(" PerformanceChart: Received data:",l),l.points&&l.points.length>0&&(console.log(` PerformanceChart [${e}]: First 5 data points:`),l.points.slice(0,5).forEach((d,c)=>{console.log(`  Point ${c+1}:`,{timestamp:d.timestamp,period_pnl:d.period_pnl,cumulative_pnl:d.cumulative_pnl,trade_count:d.trade_count})}),console.log(` PerformanceChart [${e}]: Last 5 data points:`),l.points.slice(-5).forEach((d,c)=>{console.log(`  Point ${l.points.length-4+c}:`,{timestamp:d.timestamp,period_pnl:d.period_pnl,cumulative_pnl:d.cumulative_pnl,trade_count:d.trade_count})})),l}catch(l){throw console.error(" PerformanceChart: Error fetching data:",l),l}},{enabled:!!t,staleTime:6e4,onError:l=>{console.error(" PerformanceChart: Query error:",l)}}),a=N.useMemo(()=>{var y;if(!(s!=null&&s.summary))return null;const l=(y=s.points)==null?void 0:y[s.points.length-1],d=(l==null?void 0:l.cumulative_pnl)??s.summary.total_pnl??0,c=(t==null?void 0:t.balance)??(t==null?void 0:t.equity),f=(c!=null&&!Number.isNaN(Number(c))?Number(c):void 0)??s.summary.end_balance??(s.summary.start_balance??0)+d,x=s.summary.start_balance??f-d;return{...s.summary,start_balance:x,end_balance:f}},[s,t]),o=N.useMemo(()=>{if(!(s!=null&&s.points))return[];const l=(a==null?void 0:a.start_balance)??0,d=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:e==="trade"||e==="hour"?"2-digit":void 0,minute:e==="trade"||e==="hour"?"2-digit":void 0});return s.points.map(c=>({label:d.format(new Date(c.timestamp)),cumulative:c.cumulative_pnl,period:c.period_pnl,balance:l+c.cumulative_pnl,trades:c.trade_count}))},[s,e,a]);return r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700 space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Performance"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Pa.map(l=>r.jsx("button",{onClick:()=>n(l.value),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors ${e===l.value?"bg-primary-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:l.label},l.value))})]}),i?r.jsx("div",{className:"h-64 flex items-center justify-center text-slate-400 text-sm",children:"Loading performance history..."}):o.length===0?r.jsx("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:"No historical trades available for this period."}):r.jsx(_t,{width:"100%",height:320,children:r.jsxs(Ms,{data:o,children:[r.jsx(Pt,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(Ft,{dataKey:"label",stroke:"#9CA3AF",minTickGap:16}),r.jsx(at,{stroke:"#9CA3AF",yAxisId:"left"}),r.jsx(at,{stroke:"#9CA3AF",yAxisId:"right",orientation:"right"}),r.jsx(At,{contentStyle:{backgroundColor:"#1E293B",border:"1px solid #334155",borderRadius:"8px"}}),r.jsx(Hn,{}),r.jsx(Fe,{type:"monotone",dataKey:"cumulative",stroke:"#10B981",strokeWidth:2,yAxisId:"left",name:"Cumulative P&L",dot:!1}),r.jsx(Fe,{type:"monotone",dataKey:"balance",stroke:"#3B82F6",strokeWidth:2,yAxisId:"right",name:"Balance",dot:!1}),r.jsx(Fe,{type:"monotone",dataKey:"period",stroke:"#F59E0B",strokeWidth:1,strokeDasharray:"4 4",yAxisId:"left",name:"Period P&L",dot:!1})]})}),a&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm bg-slate-900/60 rounded-lg p-4 border border-slate-700/60",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Total P&L"}),r.jsxs("p",{className:`font-semibold ${a.total_pnl>=0?"text-green-400":"text-red-400"}`,children:[a.total_pnl>=0?"+":"","$",Math.abs(a.total_pnl).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Win Rate"}),r.jsxs("p",{className:"font-semibold",children:[a.win_rate.toFixed(2),"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Max Drawdown"}),r.jsxs("p",{className:"font-semibold",children:["-$",Math.abs(a.max_drawdown).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Trades"}),r.jsx("p",{className:"font-semibold",children:a.trade_count})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Current Balance"}),r.jsxs("p",{className:"font-semibold",children:["$",Number(a.end_balance??0).toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})}const Aa=["1m","5m","15m","1h","4h","1d"],Ta=[{value:"line",label:"Line"},{value:"candlestick",label:"Candlestick"}],La=[{value:100,label:"100"},{value:300,label:"300"},{value:500,label:"500"},{value:1e3,label:"1000"}],Da=(t,e)=>{const n=new Date(t),s=e==="1d"?{month:"short",day:"numeric"}:{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat(void 0,s).format(n)},Ma=t=>{const{x:e,y:n,width:s,payload:i}=t;if(!i)return null;const{open:a,close:o,high:l,low:d,_yDomainMin:c,_yDomainMax:h,_yDomainRange:f}=i;if(a===void 0||o===void 0||l===void 0||d===void 0||!c||!h||!f)return null;const x=o>=a,y=x?"#26A69A":"#EF5350",m=x?"#26A69A":"#EF5350",b=x?"#1DE9B6":"#FF5252",C=400/f,k=n,g=k+(l-d)*C,E=k+(l-a)*C,T=k+(l-o)*C,R=Math.min(E,T),j=Math.max(E,T),q=Math.abs(T-E),U=Math.max(q,a===o?2:1),V=Math.max(s-2,2),Q=e+(s-V)/2;return r.jsxs("g",{children:[r.jsx("line",{x1:e+s/2,y1:k,x2:e+s/2,y2:R,stroke:m,strokeWidth:1.5}),r.jsx("rect",{x:Q,y:R,width:V,height:U,fill:y,stroke:b,strokeWidth:1,fillOpacity:.8}),r.jsx("line",{x1:e+s/2,y1:j,x2:e+s/2,y2:g,stroke:m,strokeWidth:1.5})]})};function Ia(){const[t,e]=N.useState("MNQ"),[n,s]=N.useState("5m"),[i,a]=N.useState("line"),[o,l]=N.useState(300),[d,c]=N.useState(""),[h,f]=N.useState(""),[x,y]=N.useState(!1),[m,b]=N.useState(null),[v,C]=N.useState(null),k=N.useRef(null),g=N.useMemo(()=>h?new Date(h).toISOString():new Date().toISOString(),[h]),{data:E,isLoading:T}=le(["historicalData",t,n,o,g],()=>jn.getHistoricalData({symbol:t,timeframe:n,limit:o,end:g}),{enabled:!!t,staleTime:6e4,refetchInterval:i==="candlestick"?3e4:!1}),R=N.useMemo(()=>{if(!(E!=null&&E.bars))return[];const j=E.bars.map(_=>({label:Da(_.timestamp,n),timestamp:_.timestamp,open:_.open,close:_.close,high:_.high,low:_.low,range:[_.low,_.high]})),q=j.flatMap(_=>[_.high,_.low,_.open,_.close]),J=Math.min(...q),U=Math.max(...q),V=J-5,Q=U+5;return j.map(_=>({..._,_yDomainMin:V,_yDomainMax:Q,_yDomainRange:Q-V}))},[E,n]);return r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700 space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Price Chart"}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("input",{value:t,onChange:j=>e(j.target.value.toUpperCase()),className:"bg-slate-900 border border-slate-700 rounded px-3 py-1 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Symbol",maxLength:10}),r.jsx("div",{className:"flex gap-1",children:Aa.map(j=>r.jsx("button",{onClick:()=>s(j),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===j?"bg-primary-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:j.toUpperCase()},j))})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm flex-wrap",children:[r.jsx("span",{className:"text-slate-400",children:"Chart Type:"}),r.jsx("div",{className:"flex gap-1",children:Ta.map(j=>r.jsx("button",{onClick:()=>a(j.value),className:`px-3 py-1 text-xs font-semibold rounded transition-colors ${i===j.value?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:j.label},j.value))}),r.jsx("span",{className:"text-slate-400 ml-4",children:"Bars:"}),r.jsx("div",{className:"flex gap-1",children:La.map(j=>r.jsx("button",{onClick:()=>l(j.value),className:`px-3 py-1 text-xs font-semibold rounded transition-colors ${o===j.value?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:j.label},j.value))})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm flex-wrap",children:[r.jsx("span",{className:"text-slate-400",children:"Date Range:"}),r.jsx("input",{type:"datetime-local",value:d,onChange:j=>c(j.target.value),className:"bg-slate-900 border border-slate-700 rounded px-3 py-1 text-xs text-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Start Date"}),r.jsx("span",{className:"text-slate-500",children:"to"}),r.jsx("input",{type:"datetime-local",value:h,onChange:j=>f(j.target.value),className:"bg-slate-900 border border-slate-700 rounded px-3 py-1 text-xs text-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"End Date (default: now)"}),(d||h)&&r.jsx("button",{onClick:()=>{c(""),f("")},className:"px-3 py-1 text-xs font-semibold rounded bg-slate-700 text-slate-300 hover:bg-slate-600",children:"Clear"})]})]}),T?r.jsx("div",{className:"h-96 flex items-center justify-center text-slate-400 text-sm",children:"Loading historical prices..."}):R.length===0?r.jsxs("div",{className:"h-96 flex items-center justify-center text-slate-500 text-sm",children:["No data available for ",t,"."]}):i==="line"?r.jsx(_t,{width:"100%",height:400,children:r.jsxs(Ms,{data:R,children:[r.jsx(Pt,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(Ft,{dataKey:"label",stroke:"#9CA3AF",minTickGap:16}),r.jsx(at,{stroke:"#9CA3AF",domain:["dataMin - 5","dataMax + 5"],orientation:"right",width:80}),r.jsx(At,{contentStyle:{backgroundColor:"#1E293B",border:"1px solid #334155",borderRadius:"8px"}}),r.jsx(as,{dataKey:"label",height:30,stroke:"#3B82F6",fill:"#1E293B"}),r.jsx(Fe,{type:"monotone",dataKey:"close",stroke:"#3B82F6",strokeWidth:2,dot:!1,name:"Close"}),r.jsx(Fe,{type:"monotone",dataKey:"high",stroke:"#10B981",strokeWidth:1,dot:!1,name:"High",opacity:.4}),r.jsx(Fe,{type:"monotone",dataKey:"low",stroke:"#F59E0B",strokeWidth:1,dot:!1,name:"Low",opacity:.4})]})}):r.jsxs("div",{ref:k,className:"relative",onMouseEnter:()=>y(!0),onMouseLeave:()=>{y(!1),b(null),C(null)},style:{cursor:x?"crosshair":"default"},children:[r.jsx(_t,{width:"100%",height:400,children:r.jsxs(Kn,{data:R,onMouseMove:j=>{if(j&&j.activePayload&&j.activePayload[0]){const q=j.activePayload[0].payload;b(q.close),C(q.label)}},children:[r.jsx(Pt,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(Ft,{dataKey:"label",stroke:"#9CA3AF",minTickGap:16}),r.jsx(at,{stroke:"#9CA3AF",domain:["dataMin - 5","dataMax + 5"],orientation:"right",width:80}),r.jsx(At,{contentStyle:{backgroundColor:"#1E293B",border:"1px solid #334155",borderRadius:"8px"},content:({active:j,payload:q})=>{var J,U,V,Q;if(j&&q&&q.length){const _=q[0].payload,B=_.close>=_.open;return r.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded p-3 text-xs",children:[r.jsx("p",{className:"text-slate-400 mb-1",children:_.label}),r.jsxs("p",{className:"text-green-400",children:["O: $",(J=_.open)==null?void 0:J.toFixed(2)]}),r.jsxs("p",{className:"text-blue-400",children:["H: $",(U=_.high)==null?void 0:U.toFixed(2)]}),r.jsxs("p",{className:"text-orange-400",children:["L: $",(V=_.low)==null?void 0:V.toFixed(2)]}),r.jsxs("p",{className:B?"text-green-400 font-semibold":"text-red-400 font-semibold",children:["C: $",(Q=_.close)==null?void 0:Q.toFixed(2)]}),r.jsxs("p",{className:B?"text-green-400":"text-red-400",children:[B?"":""," $",Math.abs(_.close-_.open).toFixed(2)," (",((_.close-_.open)/_.open*100).toFixed(2),"%)"]})]})}return null}}),x&&m!==null&&r.jsx(r.Fragment,{children:r.jsx(zn,{y:m,stroke:"#3B82F6",strokeDasharray:"2 2",strokeOpacity:.5})}),r.jsx(as,{dataKey:"label",height:30,stroke:"#3B82F6",fill:"#1E293B",startIndex:Math.max(0,R.length-100)}),r.jsx(Wn,{dataKey:"high",fill:"#8884d8",shape:r.jsx(Ma,{})})]})}),x&&m!==null&&v&&r.jsxs("div",{className:"absolute top-2 right-2 bg-slate-900 border border-slate-700 rounded px-3 py-2 text-xs pointer-events-none z-10",children:[r.jsx("p",{className:"text-slate-400",children:v}),r.jsxs("p",{className:"text-blue-400 font-semibold",children:["$",m.toFixed(2)]})]})]})]})}const Ot=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),$a=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"});function qa(){const{selectedAccount:t}=be(),[e,n]=N.useState(20),{data:s,isLoading:i}=le(["trades",t==null?void 0:t.id,e],()=>aa.getTrades({accountId:t==null?void 0:t.id,limit:e,type:"filled"}),{enabled:!!t,staleTime:3e4}),a=(s==null?void 0:s.items)??[],o=N.useMemo(()=>s!=null&&s.summary?s.summary:null,[s]);return r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Recent Trades"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"text-xs text-slate-400 flex items-center gap-2",children:["Rows",r.jsx("select",{value:e,onChange:l=>n(Number(l.target.value)),className:"bg-slate-900 border border-slate-700 text-slate-200 text-xs px-2 py-1 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",children:[20,50,100].map(l=>r.jsx("option",{value:l,children:l},l))})]}),o&&r.jsxs("div",{className:"flex flex-col items-end text-xs text-slate-400",children:[r.jsxs("div",{children:["Gross PnL (shown trades):"," ",r.jsxs("span",{className:o.gross_pnl>=0?"text-green-400 font-semibold":"text-red-400 font-semibold",children:[o.gross_pnl>=0?"+":"",Ot.format(Math.abs(o.gross_pnl))]})]}),o.total_in_period&&o.displayed_count&&o.total_in_period>o.displayed_count&&r.jsxs("div",{className:"text-slate-500 mt-1",children:["Showing ",o.displayed_count," of ",o.total_in_period," total trades"]})]})]})]}),i?r.jsx("div",{className:"py-10 text-center text-slate-400 text-sm",children:"Loading trades..."}):a.length===0?r.jsx("div",{className:"py-10 text-center text-slate-500 text-sm",children:"No trades in this period."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsx("div",{className:"max-h-[32rem] overflow-y-auto pr-1",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"sticky top-0 bg-slate-800",children:r.jsxs("tr",{className:"text-slate-400 text-xs uppercase tracking-wide",children:[r.jsx("th",{className:"pb-3 text-left",children:"Time"}),r.jsx("th",{className:"pb-3 text-left",children:"Symbol"}),r.jsx("th",{className:"pb-3 text-left",children:"Side"}),r.jsx("th",{className:"pb-3 text-right",children:"Qty"}),r.jsx("th",{className:"pb-3 text-right",children:"Price"}),r.jsx("th",{className:"pb-3 text-right",children:"Net P&L"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-700/60",children:a.map(l=>{const d=l.net_pnl>=0?"text-green-400":"text-red-400";return r.jsxs("tr",{className:"hover:bg-slate-700/40 transition-colors",children:[r.jsx("td",{className:"py-2 text-slate-300",children:$a.format(new Date(l.timestamp))}),r.jsx("td",{className:"py-2 font-semibold text-slate-100",children:l.symbol}),r.jsx("td",{className:`py-2 uppercase ${l.side==="BUY"?"text-green-300":"text-red-300"}`,children:l.side}),r.jsx("td",{className:"py-2 text-right text-slate-200",children:l.quantity}),r.jsx("td",{className:"py-2 text-right text-slate-200",children:l.price?Ot.format(l.price):""}),r.jsxs("td",{className:`py-2 text-right font-semibold ${d}`,children:[l.net_pnl>=0?"+":"",Ot.format(Math.abs(l.net_pnl))]})]},l.id)})})]})})})]})}const Ua=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2}),Ts=new Intl.NumberFormat(void 0,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}),pe=t=>t==null||Number.isNaN(t)?"":Ua.format(t),Ls=t=>{if(!t)return"";try{return new Date(t).toLocaleString()}catch{return t}},Ds=(t,e)=>t||e>=1?"bg-red-500":e>=.8?"bg-amber-500":"bg-emerald-500",Qa=t=>t?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-red-500/20 text-red-200 border border-red-500/30",Ba={info:"bg-slate-700 text-slate-200 border border-slate-600",warning:"bg-amber-500/20 text-amber-300 border border-amber-500/40",error:"bg-red-500/20 text-red-200 border border-red-500/40",success:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40"};function Ha(){const{selectedAccount:t}=be(),e=t==null?void 0:t.id,n=de(),[s,i]=N.useState(!0),{data:a,isLoading:o,error:l,refetch:d,isFetching:c}=le(["risk",e],()=>ia.getRisk(e),{enabled:!!e,staleTime:3e4,refetchInterval:6e4,keepPreviousData:!0}),h=!!l,f=l instanceof Error?l.message:"Failed to load risk metrics.";N.useEffect(()=>{const b=v=>{v&&(e&&v.account_id&&String(v.account_id)!==String(e)||n.setQueryData(["risk",e],v))};return $.on("risk_update",b),()=>{$.off("risk_update",b)}},[e,n]);const x=N.useMemo(()=>{if(!a)return null;const b=a.dll.pct??(a.dll.limit?a.dll.used/a.dll.limit:0);return{pct:Math.min(1,Math.max(0,b||0)),limit:a.dll.limit,used:a.dll.used,remaining:a.dll.remaining,violated:a.dll.violated}},[a]),y=N.useMemo(()=>{if(!a)return null;const b=a.mll.pct??(a.mll.limit?a.mll.used/a.mll.limit:0);return{pct:Math.min(1,Math.max(0,b||0)),limit:a.mll.limit,used:a.mll.used,remaining:a.mll.remaining,violated:a.mll.violated}},[a]),m=(a==null?void 0:a.events)??[];return r.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-sm",children:[r.jsxs("button",{type:"button",onClick:()=>i(b=>!b),className:"w-full flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-3 text-left",children:[a!=null&&a.compliance?r.jsx(Sa,{className:"w-5 h-5 text-emerald-400"}):r.jsx(wa,{className:"w-5 h-5 text-red-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-200",children:"Risk Monitor"}),r.jsxs("p",{className:"text-xs text-slate-400",children:[a!=null&&a.account_name?`${a.account_name}  `:"",a?Ls(a.timestamp):"Awaiting data"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[c&&r.jsx(Be,{className:"w-4 h-4 animate-spin text-slate-400"}),s?r.jsx(Zt,{className:"w-4 h-4 text-slate-400"}):r.jsx(vt,{className:"w-4 h-4 text-slate-400"})]})]}),s&&r.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[r.jsx(Be,{className:"w-4 h-4 animate-spin"}),"Loading risk metrics..."]}),h&&r.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm text-red-300 bg-red-500/10 border border-red-500/30 rounded-lg px-3 py-2",children:[r.jsx("span",{children:f}),r.jsx("button",{onClick:()=>d(),className:"text-xs font-semibold text-red-200 underline",children:"Retry"})]}),!o&&!h&&a&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Qa(a.compliance)}`,children:a.compliance?"Compliant":"Non-Compliant"}),a.violations.length>0&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-300",children:[r.jsx(kn,{className:"w-4 h-4"}),a.violations[0]]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-xs uppercase mb-1",children:"Current Balance"}),r.jsx("p",{className:"font-semibold text-slate-100",children:pe(a.balance)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-xs uppercase mb-1",children:"Total PnL"}),r.jsx("p",{className:`font-semibold ${a.total_pnl>=0?"text-emerald-400":"text-red-400"}`,children:pe(a.total_pnl)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-xs uppercase mb-1",children:"Start Balance"}),r.jsx("p",{className:"font-semibold text-slate-100",children:pe(a.start_balance)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-xs uppercase mb-1",children:"Trailing Loss"}),r.jsx("p",{className:`font-semibold ${a.trailing_loss>0?"text-amber-300":"text-slate-200"}`,children:pe(a.trailing_loss)})]})]}),x&&r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[r.jsx("span",{children:"Daily Loss Limit"}),r.jsxs("span",{children:[pe(x.used)," / ",pe(x.limit)]})]}),r.jsx("div",{className:"h-2 rounded bg-slate-700 overflow-hidden",children:r.jsx("div",{className:`h-full ${Ds(x.violated,x.pct)}`,style:{width:`${x.pct*100}%`}})}),r.jsx("p",{className:"text-xs text-slate-500",children:x.limit===null?"No daily loss limit configured":`Remaining: ${pe(x.remaining)} (${Ts.format(1-x.pct)})`})]}),y&&r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[r.jsx("span",{children:"Maximum Loss Limit"}),r.jsxs("span",{children:[pe(y.used)," / ",pe(y.limit)]})]}),r.jsx("div",{className:"h-2 rounded bg-slate-700 overflow-hidden",children:r.jsx("div",{className:`h-full ${Ds(y.violated,y.pct)}`,style:{width:`${y.pct*100}%`}})}),r.jsx("p",{className:"text-xs text-slate-500",children:y.limit===null?"No maximum loss limit configured":`Remaining: ${pe(y.remaining)} (${Ts.format(1-y.pct)})`})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 uppercase",children:[r.jsx(Xt,{className:"w-4 h-4 text-slate-300"}),"Recent Risk Events"]}),m.length===0?r.jsx("div",{className:"text-xs text-slate-500 bg-slate-900/60 border border-slate-700/60 rounded-lg px-3 py-2",children:"No recent risk events"}):r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1",children:m.map(b=>r.jsxs("div",{className:`px-3 py-2 rounded-lg text-xs ${Ba[b.level]}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-semibold",children:b.message}),r.jsx("span",{className:"text-slate-300/80",children:Ls(b.timestamp)})]}),b.meta&&r.jsx("pre",{className:"text-xs text-slate-300/70 whitespace-pre-wrap",children:JSON.stringify(b.meta,null,2)})]},b.id))})]})]})]})]})}const Ka=t=>{if(!t)return"";try{const e=new Date(t),s=new Date().getTime()-e.getTime(),i=Math.floor(s/6e4);return i<1?"Just now":i<60?`${i}m ago`:i<1440?`${Math.floor(i/60)}h ago`:e.toLocaleString()}catch{return t}},za=t=>{switch(t){case"success":return r.jsx(Xt,{className:"w-4 h-4 text-emerald-400"});case"warning":return r.jsx(kn,{className:"w-4 h-4 text-amber-400"});case"error":return r.jsx(He,{className:"w-4 h-4 text-red-400"});default:return r.jsx(En,{className:"w-4 h-4 text-blue-400"})}},Wa=t=>{switch(t){case"success":return"bg-emerald-500/10 border-emerald-500/30 text-emerald-200";case"warning":return"bg-amber-500/10 border-amber-500/30 text-amber-200";case"error":return"bg-red-500/10 border-red-500/30 text-red-200";default:return"bg-blue-500/10 border-blue-500/30 text-blue-200"}};function Va(){const{selectedAccount:t}=be(),e=t==null?void 0:t.id,n=de(),[s,i]=N.useState(!0),[a,o]=N.useState(0),{data:l,isLoading:d,error:c}=le(["notifications",e],()=>oa.getNotifications(e),{enabled:!!e,staleTime:1e4,refetchInterval:3e4,keepPreviousData:!0});N.useEffect(()=>{const x=y=>{!y||!y.notification||e&&y.account_id&&String(y.account_id)!==String(e)||(n.invalidateQueries(["notifications",e]),s||o(m=>m+1))};return $.on("notification",x),()=>{$.off("notification",x)}},[e,n,s]),N.useEffect(()=>{s&&o(0)},[s]);const h=(l==null?void 0:l.notifications)||[],f=h.length>0;return r.jsxs("div",{className:"fixed right-4 top-20 z-40 w-80",children:[r.jsxs("button",{onClick:()=>i(!s),className:`w-full flex items-center justify-between px-4 py-2 rounded-t-lg border transition-colors ${s?"bg-slate-800 border-slate-600 text-slate-200":"bg-slate-700 hover:bg-slate-600 border-slate-500 text-slate-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ba,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold",children:"Notifications"}),a>0&&r.jsx("span",{className:"px-1.5 py-0.5 text-xs font-bold bg-red-500 text-white rounded-full min-w-[1.25rem] text-center",children:a})]}),s?r.jsx(Zt,{className:"w-4 h-4"}):r.jsx(vt,{className:"w-4 h-4"})]}),s&&r.jsx("div",{className:"bg-slate-800 border-x border-b border-slate-600 rounded-b-lg shadow-xl max-h-[32rem] flex flex-col",children:d?r.jsx("div",{className:"p-4 text-center text-slate-400 text-sm",children:"Loading notifications..."}):c?r.jsx("div",{className:"p-4 text-center text-red-400 text-sm",children:"Failed to load notifications"}):f?r.jsx("div",{className:"overflow-y-auto flex-1",children:h.map(x=>r.jsx("div",{className:`p-3 border-b border-slate-700/50 ${Wa(x.level)}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"mt-0.5",children:za(x.level)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium",children:x.message}),x.meta&&r.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[x.meta.symbol&&r.jsxs("span",{className:"mr-2",children:["Symbol: ",x.meta.symbol]}),x.meta.side&&r.jsxs("span",{className:"mr-2",children:["Side: ",x.meta.side]}),x.meta.quantity&&r.jsxs("span",{children:["Qty: ",x.meta.quantity]})]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:Ka(x.timestamp)})]})]})},x.id))}):r.jsx("div",{className:"p-4 text-center text-slate-400 text-sm",children:"No notifications"})})]})}function Ja(){const t=de(),{accounts:e,selectedAccount:n,setSelectedAccount:s}=be(),{status:i,reconnectAttempts:a,lastError:o,reconnect:l}=fa();Cn();const d=n==null?void 0:n.id,{data:c}=le(["accountInfo",d],Gt.getAccountInfo,{enabled:!!d,staleTime:6e4,refetchOnWindowFocus:!1}),{data:h}=le(["metrics"],ra.getMetrics,{refetchInterval:i==="connected"?!1:6e4,staleTime:3e4,refetchOnWindowFocus:!1}),f=(h==null?void 0:h.performance)||h;N.useEffect(()=>{let m=!0;const b=g=>{if(!m||!g)return;const E={id:g.account_id||g.accountId||g.id,name:g.account_name||g.name,status:g.status||"active",balance:Number(g.balance??0),currency:g.currency||"USD",account_type:g.account_type||"unknown",equity:Number(g.equity??g.balance??0),dailyPnL:Number(g.dailyPnL??g.daily_pnl??0),daily_pnl:Number(g.dailyPnL??g.daily_pnl??0)};E.id&&(t.setQueryData(["accountInfo",E.id],E),t.setQueryData(["accounts"],T=>T==null?void 0:T.map(R=>(R.id||R.accountId||R.account_id)===E.id?{...R,...E}:R)))},v=g=>{if(!m||!g)return;const E=g.performance||g;t.setQueryData(["metrics"],E)},C=g=>{!m||!g||d&&t.setQueryData(["positions",d],g)},k=g=>{!m||!g||Array.isArray(g)&&t.setQueryData(["accounts"],g)};return $.on("account_update",b),$.on("metrics_update",v),$.on("position_update",C),$.on("accounts_update",k),()=>{m=!1,$.off("account_update",b),$.off("metrics_update",v),$.off("position_update",C),$.off("accounts_update",k)}},[t,d]);const x=N.useMemo(()=>{switch(i){case"connected":return{label:"Connected",container:"bg-green-500/20 text-green-300",dot:"bg-green-400"};case"reconnecting":return{label:`Reconnecting (${a})`,container:"bg-amber-500/20 text-amber-200",dot:"bg-amber-300"};case"error":return{label:"Connection Error",container:"bg-red-500/20 text-red-300",dot:"bg-red-400"};default:return{label:"Disconnected",container:"bg-red-500/20 text-red-300",dot:"bg-red-400"}}},[i,a]),y=i==="error"||i==="disconnected";return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Va,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"Real-time trading overview"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:`flex items-center gap-3 px-4 py-2 rounded-lg ${x.container}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${x.dot}`}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium",children:x.label}),o&&r.jsx("span",{className:"text-xs text-red-200 truncate max-w-[200px]",children:o})]}),y&&r.jsx("button",{onClick:l,className:"ml-2 text-xs font-semibold text-primary-300 underline",children:"Retry"})]})})]}),r.jsx("div",{className:"max-w-md",children:r.jsx(Nt,{accounts:e,selectedAccount:n,onAccountChange:s})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Rt,{to:"/strategies",className:"flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Yt,{className:"w-4 h-4"}),"Manage Strategies",r.jsx(As,{className:"w-3 h-3"})]}),r.jsxs(Rt,{to:"/positions",className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-sm font-medium",children:["View All Positions & Orders",r.jsx(As,{className:"w-3 h-3"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c&&r.jsx(Oa,{account:c,isSelected:!0}),r.jsx(Fa,{}),r.jsx(Ia,{}),r.jsx(_a,{})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ha,{}),f&&r.jsx(Ra,{metrics:f}),r.jsx(qa,{})]})]})]})}const Ga="MNQ";function Ya({onOrderPlaced:t}){const e=de(),{selectedAccount:n}=be(),[s,i]=N.useState(Ga),[a,o]=N.useState("BUY"),[l,d]=N.useState("market"),[c,h]=N.useState("1"),[f,x]=N.useState(""),[y,m]=N.useState(""),[b,v]=N.useState(!1),[C,k]=N.useState(""),[g,E]=N.useState(""),[T,R]=N.useState(""),[j,q]=N.useState(""),[J,U]=N.useState(!1),[V,Q]=N.useState(!1),[_,B]=N.useState("DAY"),[P,L]=N.useState(null),[ne,D]=N.useState(null),W=n==null?void 0:n.id,ce=te(Qe.placeOrder,{onSuccess:()=>{D("Order submitted successfully"),L(null),e.invalidateQueries(["orders",W]),e.invalidateQueries(["positions",W]),t&&t()},onError:O=>{var G,H;console.error("Failed to submit order",O);const ue=((H=(G=O==null?void 0:O.response)==null?void 0:G.data)==null?void 0:H.error)||(O==null?void 0:O.message)||"Failed to submit order";L(ue),D(null)}}),Z=te(O=>Qe.cancelAll(O),{onSuccess:()=>{e.invalidateQueries(["orders",W]),D("Cancelled all open orders"),L(null)},onError:O=>{var G,H;const ue=((H=(G=O==null?void 0:O.response)==null?void 0:G.data)==null?void 0:H.error)||(O==null?void 0:O.message)||"Failed to cancel orders";L(ue),D(null)}}),re=te(xe.flattenAll,{onSuccess:()=>{e.invalidateQueries(["positions",W]),e.invalidateQueries(["orders",W]),D("Flatten command sent"),L(null)},onError:O=>{var G,H;const ue=((H=(G=O==null?void 0:O.response)==null?void 0:G.data)==null?void 0:H.error)||(O==null?void 0:O.message)||"Failed to flatten positions";L(ue),D(null)}}),je=()=>{x(""),m(""),k(""),E(""),R(""),q(""),v(!1),U(!1),Q(!1),B("DAY")},ge=O=>{if(O.preventDefault(),!W){L("Select an account before placing orders"),D(null);return}if(!s.trim()){L("Symbol is required"),D(null);return}const ue=Number(c);if(!Number.isFinite(ue)||ue<=0){L("Quantity must be greater than 0"),D(null);return}const G={symbol:s,side:a,quantity:Math.floor(ue),order_type:l,account_id:W,time_in_force:_,reduce_only:V};if(l==="limit"){const H=Number(f);if(!Number.isFinite(H)||H<=0){L("Limit price required for limit orders"),D(null);return}G.limit_price=H}if(l==="stop"){const H=Number(y);if(!Number.isFinite(H)||H<=0){L("Stop price required for stop orders"),D(null);return}G.stop_price=H}if(b)if(l==="stop"){const H=T?Number(T):void 0,Ne=j?Number(j):void 0;if(!H||!Ne){L("Stop loss and take profit prices are required for stop-entry brackets"),D(null);return}G.stop_loss_price=H,G.take_profit_price=Ne,G.enable_bracket=!0,G.enable_breakeven=J}else{const H=C?Number(C):void 0,Ne=g?Number(g):void 0;if(!H&&!Ne){L("Provide stop-loss and/or take-profit ticks for bracket orders"),D(null);return}H&&(G.stop_loss_ticks=Math.floor(H)),Ne&&(G.take_profit_ticks=Math.floor(Ne)),G.enable_bracket=!0}ce.mutate(G,{onSuccess:()=>{je()}})},ye=ce.isLoading,Ie=!W;return r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Quick Order Ticket"}),r.jsx("p",{className:"text-slate-400 text-sm",children:"Place discretionary trades directly from the dashboard"})]})}),P&&r.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:[r.jsx(He,{className:"h-4 w-4"}),r.jsx("span",{children:P})]}),ne&&r.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:[r.jsx(Xt,{className:"h-4 w-4"}),r.jsx("span",{children:ne})]}),r.jsxs("form",{className:"space-y-5",onSubmit:ge,children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Symbol"}),r.jsx("input",{type:"text",value:s,onChange:O=>i(O.target.value.toUpperCase()),className:"mt-1 w-full rounded bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",placeholder:"MNQ"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Quantity"}),r.jsx("input",{type:"number",min:1,value:c,onChange:O=>h(O.target.value),className:"mt-1 w-full rounded bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Side"}),r.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-2",children:[r.jsx("button",{type:"button",onClick:()=>o("BUY"),className:`rounded px-3 py-2 text-sm font-semibold transition-colors ${a==="BUY"?"bg-emerald-500/30 text-emerald-200 ring-1 ring-emerald-400/60":"bg-slate-900 text-slate-300 hover:bg-slate-700/60"}`,children:"Buy"}),r.jsx("button",{type:"button",onClick:()=>o("SELL"),className:`rounded px-3 py-2 text-sm font-semibold transition-colors ${a==="SELL"?"bg-red-500/30 text-red-200 ring-1 ring-red-400/60":"bg-slate-900 text-slate-300 hover:bg-slate-700/60"}`,children:"Sell"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Order Type"}),r.jsxs("select",{value:l,onChange:O=>d(O.target.value),className:"mt-1 w-full rounded bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",children:[r.jsx("option",{value:"market",children:"Market"}),r.jsx("option",{value:"limit",children:"Limit"}),r.jsx("option",{value:"stop",children:"Stop Entry"})]})]})]}),l==="limit"&&r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Limit Price"}),r.jsx("input",{type:"number",value:f,onChange:O=>x(O.target.value),className:"mt-1 w-full rounded bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",placeholder:"Enter price"})]})}),l==="stop"&&r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Stop Price"}),r.jsx("input",{type:"number",value:y,onChange:O=>m(O.target.value),className:"mt-1 w-full rounded bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",placeholder:"Entry stop price"})]})}),r.jsxs("div",{className:"rounded border border-slate-700/60 bg-slate-900/40 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-200",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:O=>v(O.target.checked),className:"h-4 w-4 rounded border-slate-600 bg-slate-800 text-primary-500 focus:ring-primary-500"}),"Attach Bracket"]}),r.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Optional"})]}),b&&l!=="stop"&&r.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Stop Loss (ticks)"}),r.jsx("input",{type:"number",value:C,onChange:O=>k(O.target.value),className:"mt-1 w-full rounded bg-slate-950 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",placeholder:"e.g. 40"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Take Profit (ticks)"}),r.jsx("input",{type:"number",value:g,onChange:O=>E(O.target.value),className:"mt-1 w-full rounded bg-slate-950 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",placeholder:"e.g. 80"})]})]}),b&&l==="stop"&&r.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Stop Loss Price"}),r.jsx("input",{type:"number",value:T,onChange:O=>R(O.target.value),className:"mt-1 w-full rounded bg-slate-950 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",placeholder:"Stop loss price"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Take Profit Price"}),r.jsx("input",{type:"number",value:j,onChange:O=>q(O.target.value),className:"mt-1 w-full rounded bg-slate-950 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",placeholder:"Take profit price"})]}),r.jsx("div",{className:"flex items-center",children:r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-200",children:[r.jsx("input",{type:"checkbox",checked:J,onChange:O=>U(O.target.checked),className:"h-4 w-4 rounded border-slate-600 bg-slate-800 text-primary-500 focus:ring-primary-500"}),"Enable Breakeven"]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs uppercase tracking-wide text-slate-400",children:"Time in Force"}),r.jsxs("select",{value:_,onChange:O=>B(O.target.value),className:"mt-1 w-full rounded bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-primary-500",children:[r.jsx("option",{value:"DAY",children:"DAY"}),r.jsx("option",{value:"GTC",children:"GTC"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-200",children:[r.jsx("input",{type:"checkbox",checked:V,onChange:O=>Q(O.target.checked),className:"h-4 w-4 rounded border-slate-600 bg-slate-800 text-primary-500 focus:ring-primary-500"}),"Reduce-Only"]})})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[r.jsxs("button",{type:"submit",disabled:ye||Ie,className:"inline-flex items-center gap-2 rounded bg-primary-500 px-4 py-2 text-sm font-semibold text-slate-950 transition-colors hover:bg-primary-400 disabled:cursor-not-allowed disabled:bg-slate-600 disabled:text-slate-300",children:[ye&&r.jsx(Be,{className:"h-4 w-4 animate-spin"}),"Place Order"]}),r.jsxs("button",{type:"button",onClick:()=>Z.mutate(W),disabled:Z.isLoading||Ie,className:"inline-flex items-center gap-2 rounded border border-slate-600 px-4 py-2 text-sm font-semibold text-slate-200 transition-colors hover:bg-slate-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[Z.isLoading&&r.jsx(Be,{className:"h-4 w-4 animate-spin"}),"Cancel All Orders"]}),r.jsxs("button",{type:"button",onClick:()=>re.mutate(),disabled:re.isLoading||Ie,className:"inline-flex items-center gap-2 rounded border border-red-600/60 px-4 py-2 text-sm font-semibold text-red-300 transition-colors hover:bg-red-500/10 disabled:cursor-not-allowed disabled:text-red-500/60",children:[re.isLoading&&r.jsx(Be,{className:"h-4 w-4 animate-spin"}),"Flatten Positions"]})]}),r.jsx("p",{className:"text-xs text-slate-500",children:"Tip: Brackets on market/limit orders use tick offsets. Stop entries require explicit pricing for the attached OCO legs."})]})]})}function Xa(){const{accounts:t,selectedAccount:e,setSelectedAccount:n}=be(),s=e==null?void 0:e.id,i=de();Cn();const{data:a=[],isLoading:o}=le(["positions",s],xe.getPositions,{enabled:!!s,staleTime:3e4,refetchInterval:1e4}),{data:l=[],isLoading:d}=le(["orders",s],Qe.getOrders,{enabled:!!s,staleTime:3e4,refetchInterval:1e4}),[c,h]=N.useState(null),[f,x]=N.useState(""),[y,m]=N.useState(""),[b,v]=N.useState({}),[C,k]=N.useState({}),[g,E]=N.useState({}),[T,R]=N.useState(null),[j,q]=N.useState(null),[J,U]=N.useState({}),[V,Q]=N.useState({}),[_,B]=N.useState({}),P=(u,w)=>{q({type:u,message:w}),window.setTimeout(()=>q(null),4e3)},L=te(u=>Qe.cancelOrder(u),{onSuccess:(u,w)=>{i.invalidateQueries(["orders",s]),w?P("success",`Cancel request sent for order ${w}`):P("success","Cancel request sent")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to cancel order";P("error",w)}}),ne=te(({orderId:u,updates:w})=>Qe.modifyOrder(u,w),{onSuccess:(u,w)=>{i.invalidateQueries(["orders",s]),h(null),x(""),m(""),P("success",`Order ${w.orderId} updated`)},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to modify order";P("error",w)}}),D=te(({positionId:u,quantity:w})=>xe.closePosition(u,w),{onSuccess:(u,w)=>{i.invalidateQueries(["positions",s]),w.quantity?(v(S=>({...S,[w.positionId]:""})),P("success",`Partial close submitted for ${w.quantity} contracts`)):P("success","Close position request sent")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to close position";P("error",w)}}),W=te(({positionId:u,stopPrice:w})=>xe.modifyStopLoss(u,w),{onSuccess:(u,w)=>{i.invalidateQueries(["positions",s]),k(S=>({...S,[w.positionId]:""})),P("success","Stop loss updated")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to update stop loss";P("error",w)}}),ce=te(({positionId:u,takeProfit:w})=>xe.modifyTakeProfit(u,w),{onSuccess:(u,w)=>{i.invalidateQueries(["positions",s]),E(S=>({...S,[w.positionId]:""})),P("success","Take profit updated")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to update take profit";P("error",w)}}),Z=te(({positionId:u,trailAmount:w})=>xe.enableTrailingStop(u,w),{onSuccess:(u,w)=>{i.invalidateQueries(["positions",s]),i.invalidateQueries(["orders",s]),U(S=>({...S,[w.positionId]:""})),Q(S=>({...S,[w.positionId]:!0})),P("success","Trailing stop enabled")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to enable trailing stop";P("error",w)}}),re=te(u=>xe.disableTrailingStop(u),{onSuccess:(u,w)=>{i.invalidateQueries(["positions",s]),i.invalidateQueries(["orders",s]),Q(S=>({...S,[w]:!1})),P("success","Trailing stop disabled")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to disable trailing stop";P("error",w)}}),je=te(u=>xe.enableBreakeven(u),{onSuccess:(u,w)=>{i.invalidateQueries(["positions",s]),B(S=>({...S,[w]:!0})),P("success","Breakeven enabled - stop moved to entry price")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to enable breakeven";P("error",w)}}),ge=te(u=>xe.disableBreakeven(u),{onSuccess:(u,w)=>{i.invalidateQueries(["positions",s]),B(S=>({...S,[w]:!1})),P("success","Breakeven disabled")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to disable breakeven";P("error",w)}}),ye=te(({symbol:u,quantity:w,accountName:S})=>la.testOvernightBreakout(u,w,S),{onSuccess:()=>{i.invalidateQueries(["positions",s]),i.invalidateQueries(["orders",s]),P("success","Overnight breakout test executed")},onError:u=>{var S,F;const w=((F=(S=u==null?void 0:u.response)==null?void 0:S.data)==null?void 0:F.error)||(u==null?void 0:u.message)||"Failed to execute test";P("error",w)}}),Ie=(u,w)=>{if(!u){P("error","Unable to close position: missing identifier");return}confirm("Are you sure you want to close this entire position?")&&D.mutate({positionId:u,quantity:w})},O=u=>{confirm("Are you sure you want to cancel this order?")&&L.mutate(u)},ue=u=>{h({id:u.id,price:u.price,quantity:u.quantity}),x(u.price?u.price.toString():""),m(u.quantity?u.quantity.toString():"")},G=()=>{var w,S;if(!c)return;const u={};if(f&&f!==((w=c.price)==null?void 0:w.toString())&&(u.price=parseFloat(f)),y&&y!==((S=c.quantity)==null?void 0:S.toString())&&(u.quantity=parseInt(y)),Object.keys(u).length===0){h(null);return}ne.mutate({orderId:c.id,updates:u})},H=u=>{if(!u.id){P("error","Position ID missing");return}const w=b[u.id]||"",S=parseInt(w,10);if(!Number.isFinite(S)||S<=0){P("error","Enter a valid quantity for partial close");return}if(S>u.quantity){P("error","Quantity exceeds current position size");return}D.mutate({positionId:u.id,quantity:S})},Ne=u=>{if(!u.id){P("error","Position ID missing");return}const w=C[u.id]||"",S=parseFloat(w);if(!Number.isFinite(S)){P("error","Enter a valid stop loss price");return}W.mutate({positionId:u.id,stopPrice:S})},On=u=>{if(!u.id){P("error","Position ID missing");return}const w=g[u.id]||"",S=parseFloat(w);if(!Number.isFinite(S)){P("error","Enter a valid take profit price");return}ce.mutate({positionId:u.id,takeProfit:S})},Rn=u=>{if(!u){P("error","Raw details unavailable for this position");return}R(w=>w===u?null:u)},_n=u=>{if(!u.id){P("error","Position ID missing");return}if(V[u.id])re.mutate(u.id);else{const S=J[u.id]||"",F=parseFloat(S);if(!Number.isFinite(F)||F<=0){P("error","Enter a valid trail amount (e.g., 25.00)");return}Z.mutate({positionId:u.id,trailAmount:F})}},Pn=u=>{if(!u.id){P("error","Position ID missing");return}_[u.id]?ge.mutate(u.id):je.mutate(u.id)},ts=o||d;return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Positions & Orders"}),r.jsx("p",{className:"text-slate-400 mt-2",children:"Monitor and manage your open positions and orders"})]})}),j&&r.jsx("div",{className:`rounded-lg border px-4 py-2 text-sm ${j.type==="success"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-red-500/40 bg-red-500/10 text-red-300"}`,children:j.message}),r.jsx("div",{className:"max-w-md",children:r.jsx(Nt,{accounts:t,selectedAccount:e,onAccountChange:n})}),r.jsx(Ya,{}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Bt,{className:"w-5 h-5"}),"Automation Tools"]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>ye.mutate({symbol:"MNQ",quantity:1,accountName:"PRAC"}),className:"px-4 py-2 bg-blue-500/20 text-blue-300 rounded hover:bg-blue-500/30 transition-colors flex items-center gap-2",disabled:ye.isLoading||!s,children:[r.jsx(ja,{className:"w-4 h-4"}),ye.isLoading?"Testing...":"Test Overnight Breakout"]}),r.jsx("p",{className:"text-sm text-slate-400",children:"Simulates overnight breakout trades on practice account (MNQ, 1 contract)"})]})})]}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Open Positions (",a.length,")"]}),ts?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"text-slate-400 mt-2",children:"Loading positions..."})]}):a.length===0?r.jsxs("div",{className:"text-center py-8 text-slate-400",children:[r.jsx(He,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No open positions"})]}):r.jsx("div",{className:"space-y-3",children:a.map(u=>{const w=u.side==="LONG",S=Number(u.unrealized_pnl??0),F=Number(u.realized_pnl??0),Ge=Number(u.entry_price??0),Ye=Number(u.current_price??Ge),_e=S>=0?jt:es,Pe=S>=0?"text-green-400":"text-red-400",ie=u.id??"",$e=ie?b[ie]??"":"",Fn=ie?C[ie]??"":"",An=ie?g[ie]??"":"",Tn=ie?J[ie]??"":"",wt=ie?V[ie]??!1:!1,ss=ie?_[ie]??!1:!1,Ln=u.timestamp?new Date(u.timestamp).toLocaleString():"",Dn=typeof u.unrealized_pnl_pct=="number"&&isFinite(u.unrealized_pnl_pct)?`${u.unrealized_pnl_pct.toFixed(2)}%`:"",ns=typeof u.tick_size=="number"&&isFinite(u.tick_size)?u.tick_size:null,rs=typeof u.point_value=="number"&&isFinite(u.point_value)?u.point_value:null,fe=!!u.id,is=T===u.id;return r.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg border border-slate-600 hover:border-slate-500 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${w?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:u.side}),r.jsx("span",{className:"font-semibold",children:u.symbol}),r.jsxs("span",{className:"text-slate-400 text-sm",children:["x",Number(u.quantity??0)]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`flex items-center gap-1 ${Pe}`,children:[r.jsx(_e,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-semibold",children:["$",S.toFixed(2)]})]}),r.jsxs("button",{onClick:()=>Ie(u.id),className:"px-3 py-1 text-xs bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors flex items-center gap-1",disabled:!fe||D.isLoading,children:[r.jsx(ka,{className:"w-3 h-3"}),"Close"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Entry"}),r.jsxs("p",{className:"font-semibold",children:["$",Ge.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Current"}),r.jsxs("p",{className:"font-semibold",children:["$",Ye.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Realized P&L"}),r.jsxs("p",{className:`font-semibold ${F>=0?"text-green-400":"text-red-400"}`,children:["$",F.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Unrealized %"}),r.jsx("p",{className:"font-semibold text-slate-200",children:Dn})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Stop Loss"}),r.jsx("p",{className:"font-semibold text-slate-200",children:u.stop_loss!==void 0&&u.stop_loss!==null?`$${Number(u.stop_loss).toFixed(2)}`:""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Take Profit"}),r.jsx("p",{className:"font-semibold text-slate-200",children:u.take_profit!==void 0&&u.take_profit!==null?`$${Number(u.take_profit).toFixed(2)}`:""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Opened"}),r.jsx("p",{className:"font-semibold text-slate-200",children:Ln})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Tick Size"}),r.jsx("p",{className:"font-semibold text-slate-200",children:ns?ns.toFixed(4):""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Point Value"}),r.jsx("p",{className:"font-semibold text-slate-200",children:rs?`$${rs.toFixed(2)}`:""})]})]}),r.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-xs uppercase tracking-wide",children:"Adjust Stop Loss"}),r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[r.jsx("input",{type:"number",value:Fn,onChange:Se=>{u.id&&k(Ce=>({...Ce,[u.id]:Se.target.value}))},placeholder:"New stop price",className:"w-28 px-2 py-1 text-xs bg-slate-900 border border-slate-600 rounded text-slate-200",disabled:!fe}),r.jsx("button",{onClick:()=>Ne(u),className:"px-3 py-1 text-xs bg-blue-500/20 text-blue-300 rounded hover:bg-blue-500/30 transition-colors",disabled:!fe||W.isLoading,children:"Update SL"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-xs uppercase tracking-wide",children:"Adjust Take Profit"}),r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[r.jsx("input",{type:"number",value:An,onChange:Se=>{u.id&&E(Ce=>({...Ce,[u.id]:Se.target.value}))},placeholder:"New target price",className:"w-28 px-2 py-1 text-xs bg-slate-900 border border-slate-600 rounded text-slate-200",disabled:!fe}),r.jsx("button",{onClick:()=>On(u),className:"px-3 py-1 text-xs bg-green-500/20 text-green-300 rounded hover:bg-green-500/30 transition-colors",disabled:!fe||ce.isLoading,children:"Update TP"})]})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",min:1,value:$e,onChange:Se=>{u.id&&v(Ce=>({...Ce,[u.id]:Se.target.value}))},placeholder:"Qty",className:"w-20 px-2 py-1 text-xs bg-slate-900 border border-slate-600 rounded text-slate-200",disabled:!fe}),r.jsx("button",{onClick:()=>H(u),className:"px-3 py-1 text-xs bg-amber-500/20 text-amber-300 rounded hover:bg-amber-500/30 transition-colors",disabled:!fe||D.isLoading,children:"Partial Close"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",step:"0.01",value:Tn,onChange:Se=>{u.id&&U(Ce=>({...Ce,[u.id]:Se.target.value}))},placeholder:"Trail $",className:"w-24 px-2 py-1 text-xs bg-slate-900 border border-slate-600 rounded text-slate-200",disabled:!fe||wt}),r.jsxs("button",{onClick:()=>_n(u),className:`px-3 py-1 text-xs rounded transition-colors flex items-center gap-1 ${wt?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-purple-500/20 text-purple-300 hover:bg-purple-500/30"}`,disabled:!fe||Z.isLoading||re.isLoading,children:[r.jsx(Bt,{className:"w-3 h-3"}),wt?"Disable Trail":"Enable Trail"]})]}),r.jsxs("button",{onClick:()=>Pn(u),className:`px-3 py-1 text-xs rounded transition-colors flex items-center gap-1 ${ss?"bg-green-500/20 text-green-300 hover:bg-green-500/30":"bg-slate-600/40 text-slate-200 hover:bg-slate-600/60"}`,disabled:!fe||je.isLoading||ge.isLoading,children:[r.jsx(Ca,{className:"w-3 h-3"}),ss?"Breakeven ON":"Set Breakeven"]}),r.jsx("button",{onClick:()=>Rn(u.id),className:"px-3 py-1 text-xs bg-slate-600/40 text-slate-200 rounded hover:bg-slate-600/60 transition-colors flex items-center gap-1",children:is?r.jsxs(r.Fragment,{children:[r.jsx(Zt,{className:"w-3 h-3"})," Hide Details"]}):r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-3 h-3"})," View Details"]})})]}),is&&r.jsxs("div",{className:"mt-3 bg-slate-900/60 border border-slate-700/70 rounded-lg p-3 text-xs text-left overflow-x-auto",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-2",children:[r.jsx(En,{className:"w-4 h-4"}),r.jsx("span",{children:"Raw position payload"})]}),r.jsx("pre",{className:"whitespace-pre-wrap text-slate-200",children:JSON.stringify(u._raw??u,null,2)})]})]},u.id||`${u.symbol}-${u.entry_price}`)})})]}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Open Orders (",l.length,")"]}),ts?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"text-slate-400 mt-2",children:"Loading orders..."})]}):l.length===0?r.jsxs("div",{className:"text-center py-8 text-slate-400",children:[r.jsx(He,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No open orders"})]}):r.jsx("div",{className:"space-y-3",children:l.map(u=>{const w=u.side==="BUY",S=u.type||"UNKNOWN",F=(u.status||"PENDING").toUpperCase(),Ge=F!=="FILLED"&&F!=="CANCELLED"&&F!=="REJECTED",Ye=u.stop_price?Number(u.stop_price):null,_e=u.stop_loss?Number(u.stop_loss):null,Pe=u.take_profit?Number(u.take_profit):null,ie=_e||Pe?`${_e?`SL $${_e.toFixed(2)}`:""}${_e&&Pe?" / ":""}${Pe?`TP $${Pe.toFixed(2)}`:""}`:"";return r.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg border border-slate-600 hover:border-slate-500 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${w?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:u.side}),r.jsx("span",{className:"font-semibold",children:u.symbol}),r.jsxs("span",{className:"text-slate-400 text-sm",children:["x",Number(u.quantity??0)]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${F==="FILLED"?"bg-green-500/20 text-green-400":F==="CANCELLED"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:F})]}),Ge&&r.jsx("div",{className:"flex items-center gap-2",children:(c==null?void 0:c.id)===u.id?r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"number",value:f,onChange:$e=>x($e.target.value),placeholder:"Price",className:"w-20 px-2 py-1 text-xs bg-slate-900 border border-slate-600 rounded text-slate-200"}),r.jsx("input",{type:"number",value:y,onChange:$e=>m($e.target.value),placeholder:"Qty",className:"w-16 px-2 py-1 text-xs bg-slate-900 border border-slate-600 rounded text-slate-200"}),r.jsx("button",{onClick:G,className:"px-2 py-1 text-xs bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",disabled:ne.isLoading,children:"Save"}),r.jsx("button",{onClick:()=>{h(null),x(""),m("")},className:"px-2 py-1 text-xs bg-slate-600 text-slate-300 rounded hover:bg-slate-500 transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>ue(u),className:"px-2 py-1 text-xs bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/30 transition-colors flex items-center gap-1",disabled:ne.isLoading,children:[r.jsx(va,{className:"w-3 h-3"}),"Modify"]}),r.jsxs("button",{onClick:()=>O(u.id),className:"px-3 py-1 text-xs bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors flex items-center gap-1",disabled:L.isLoading,children:[r.jsx(Ea,{className:"w-3 h-3"}),"Cancel"]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm sm:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Type"}),r.jsx("p",{className:"font-semibold",children:S})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Price"}),r.jsx("p",{className:"font-semibold",children:u.price?`$${Number(u.price).toFixed(2)}`:"Market"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Stop"}),r.jsx("p",{className:"font-semibold",children:Ye?`$${Ye.toFixed(2)}`:""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Bracket"}),r.jsx("p",{className:"font-semibold text-xs text-slate-200",children:ie})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Time in Force"}),r.jsx("p",{className:"font-semibold text-slate-200",children:u.time_in_force||"DAY"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400",children:"Order ID"}),r.jsx("p",{className:"font-mono text-xs text-slate-400 truncate",children:u.id})]})]})]},u.id)})})]})]})}function Za(){const{accounts:t,selectedAccount:e,setSelectedAccount:n}=be(),s=de(),{data:i=[],isLoading:a}=le("strategies",Et.getStrategies,{refetchInterval:1e4}),o=te(c=>Et.startStrategy(c),{onSuccess:(c,h)=>{s.invalidateQueries(["strategies"]),c.success?console.log(` Started strategy: ${h}`):(console.error(` Failed to start strategy: ${c.message}`),alert(`Failed to start strategy: ${c.message}`))},onError:c=>{console.error("Error starting strategy:",c),alert(`Error starting strategy: ${c.message||"Unknown error"}`)}}),l=te(c=>Et.stopStrategy(c),{onSuccess:(c,h)=>{s.invalidateQueries(["strategies"]),c.success?console.log(` Stopped strategy: ${h}`):(console.error(` Failed to stop strategy: ${c.message}`),alert(`Failed to stop strategy: ${c.message}`))},onError:c=>{console.error("Error stopping strategy:",c),alert(`Error stopping strategy: ${c.message||"Unknown error"}`)}}),d=(c,h)=>{h==="running"?l.mutate(c):o.mutate(c)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Strategies"}),r.jsx("p",{className:"text-slate-400 mt-2",children:"Manage your trading strategies"})]})}),r.jsx("div",{className:"max-w-md",children:r.jsx(Nt,{accounts:t,selectedAccount:e,onAccountChange:n})}),a?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"})}):r.jsx("div",{className:"grid gap-4",children:i.length===0?r.jsx("div",{className:"bg-slate-800 rounded-lg p-8 text-center",children:r.jsx("p",{className:"text-slate-400",children:"No strategies configured"})}):i.map(c=>{var h;return r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:c.name}),r.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Symbols: ",((h=c.symbols)==null?void 0:h.join(", "))||"N/A"]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c.status==="running"?"bg-green-900 text-green-200":c.status==="stopped"?"bg-slate-700 text-slate-300":"bg-red-900 text-red-200"}`,children:c.status==="running"?"active":c.status}),r.jsx("button",{onClick:()=>d(c.name,c.status),disabled:o.isLoading||l.isLoading||!e,className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${c.status==="running"?"bg-slate-600 hover:bg-slate-500 text-white":"bg-green-600 hover:bg-green-500 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:o.isLoading||l.isLoading?"Loading...":c.status==="running"?"Disabled":"Enabled"})]})]}),c.config&&r.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:Object.entries(c.config).slice(0,4).map(([f,x])=>r.jsxs("div",{children:[r.jsxs("span",{className:"text-slate-400",children:[f,":"]}),r.jsx("span",{className:"ml-2 text-white",children:typeof x=="object"?JSON.stringify(x):String(x)})]},f))})]},c.name)})})]})}function eo(){const{accounts:t,selectedAccount:e,setSelectedAccount:n}=be(),s=de(),[i,a]=N.useState("auto"),[o,l]=N.useState(!0),[d,c]=N.useState(!0),[h,f]=N.useState("ws://localhost:8081"),[x,y]=N.useState("http://localhost:8080"),[m,b]=N.useState(null),{data:v,isLoading:C}=le(["settings","global"],()=>Qt.getSettings("global"),{staleTime:6e4,refetchOnWindowFocus:!1});N.useEffect(()=>{if(v!=null&&v.settings){const j=v.settings;a(j.defaultAccount??"auto"),l(j.riskManagementEnabled??!0),c(j.discordNotificationsEnabled??!0),f(j.wsUrl||"ws://localhost:8081"),y(j.apiUrl||"http://localhost:8080")}},[v]);const k=te(j=>Qt.saveSettings(j),{onSuccess:()=>{s.invalidateQueries(["settings","global"]),b(" Settings saved successfully!"),setTimeout(()=>b(null),3e3)},onError:j=>{console.error("Failed to save settings:",j),b(" Failed to save settings"),setTimeout(()=>b(null),4e3)}}),g=()=>{k.mutate({defaultAccount:i==="auto"?null:i,riskManagementEnabled:o,discordNotificationsEnabled:d,wsUrl:h,apiUrl:x})},E=()=>{l(!o)},T=()=>{c(!d)},R=j=>{n(j),j&&a(String(j.id))};return C?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-slate-400",children:"Loading settings..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),r.jsx("p",{className:"text-slate-400 mt-2",children:"Configure your trading bot"})]}),m&&r.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg px-4 py-2",children:r.jsx("p",{className:"text-green-400 text-sm",children:m})})]}),r.jsx("div",{className:"max-w-md",children:r.jsx(Nt,{accounts:t,selectedAccount:e,onAccountChange:R})}),r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Settings"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Default Account"}),r.jsxs("select",{value:i,onChange:j=>a(j.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-primary-500",children:[r.jsx("option",{value:"auto",children:" Auto-select"}),t.map(j=>{var q;return r.jsxs("option",{value:j.id,children:[j.name," - $",((q=j.balance)==null?void 0:q.toLocaleString())||"0"]},j.id)})]}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"The account to use by default when the bot starts"})]})})]}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Trading Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-700",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Risk Management"}),r.jsx("p",{className:"text-sm text-slate-400",children:"Enable automatic risk controls"})]}),r.jsx("button",{onClick:E,className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${o?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-600 hover:bg-slate-500 text-white"}`,children:o?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Discord Notifications"}),r.jsx("p",{className:"text-sm text-slate-400",children:"Send trade alerts to Discord"})]}),r.jsx("button",{onClick:T,className:`px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${d?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-600 hover:bg-slate-500 text-white"}`,children:d?"Enabled":"Disabled"})]})]})]}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"WebSocket URL"}),r.jsx("input",{type:"text",value:h,onChange:j=>f(j.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-primary-500",placeholder:"ws://localhost:8081"}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"WebSocket server for real-time updates"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API URL"}),r.jsx("input",{type:"text",value:x,onChange:j=>y(j.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white focus:outline-none focus:border-primary-500",placeholder:"http://localhost:8080"}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Backend API server URL"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:g,className:"bg-primary-600 hover:bg-primary-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:k.isLoading,children:k.isLoading?"Saving...":"Save All Settings"})})]})]})}function to({children:t}){const e=Un(),n=[{path:"/",icon:xa,label:"Dashboard"},{path:"/positions",icon:jt,label:"Positions"},{path:"/strategies",icon:Yt,label:"Strategies"},{path:"/settings",icon:Na,label:"Settings"}];return r.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[r.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 bg-slate-800 border-r border-slate-700",children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-primary-400",children:"TopStepX"}),r.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Trading Dashboard"})]}),r.jsx("nav",{className:"mt-8",children:n.map(s=>{const i=s.icon,a=e.pathname===s.path;return r.jsxs(Rt,{to:s.path,className:`flex items-center gap-3 px-6 py-3 transition-colors ${a?"bg-primary-600 text-white border-r-2 border-primary-400":"text-slate-300 hover:bg-slate-700"}`,children:[r.jsx(i,{className:"w-5 h-5"}),r.jsx("span",{children:s.label})]},s.path)})})]}),r.jsx("main",{className:"ml-64 p-8",children:t})]})}const so=new gr({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function no(){return r.jsx(Sr,{client:so,children:r.jsx(ha,{children:r.jsx(ca,{children:r.jsx(Qn,{children:r.jsx(to,{children:r.jsxs(Bn,{children:[r.jsx(Xe,{path:"/",element:r.jsx(Ja,{})}),r.jsx(Xe,{path:"/positions",element:r.jsx(Xa,{})}),r.jsx(Xe,{path:"/strategies",element:r.jsx(Za,{})}),r.jsx(Xe,{path:"/settings",element:r.jsx(eo,{})})]})})})})})})}Tt.createRoot(document.getElementById("root")).render(r.jsx(X.StrictMode,{children:r.jsx(no,{})}));
