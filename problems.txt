TIMEFRAME SUPPORT - REALITY CHECK
=================================

## TopStepX API Limitations Discovered

After testing, we discovered significant API limitations:

### ❌ NOT SUPPORTED
1. **Second timeframes** (1s, 5s, 15s, 30s)
   - API returns errorCode: 2
   - TopStepX does not provide second-level historical data
   - Parser now rejects these upfront with clear error message

2. **Multi-hour timeframes** (2h, 4h, 8h, 12h)
   - API only supports up to 1h (60-minute) bars
   - Requesting 2h, 4h, etc returns 1h data
   - Parser now falls back to 1h with warning message

### ✅ CONFIRMED WORKING
- **Minutes**: 1m, 2m, 3m, 5m, 10m, 15m, 30m, 45m, 60m (1h)
- **Days**: 1d
- **Weeks**: 1w
- **Months**: 1M, 3M, 6M

## Code Changes

### Commit c1afe2e - Fix timeframe support
- Updated `_parse_timeframe()` to reject seconds upfront
- Added warnings for multi-hour requests (fall back to 1h)
- Improved API errorCode: 2 handling with specific messages
- Updated docstrings with actual supported timeframes

### Commit eb59b52 - Update documentation
- Updated TIMEFRAME_SUPPORT.md with reality
- Marked unsupported timeframes clearly (❌ vs ✅)
- Updated TradingView comparison table
- Removed misleading examples

## User Impact

### What Changed
- Second timeframes now fail immediately with clear error (instead of API error)
- Multi-hour timeframes show warning and return 1h data (with explanation)
- Better error messages guide users to supported timeframes

### Recommended Alternatives
For users who need:
- **Sub-minute data**: Not available from TopStepX API
- **Multi-hour charts**: Use 1h bars and aggregate manually, or use 1d
- **Scalping strategies**: Use 1m as the shortest available timeframe

## Testing

Try these to verify:
```bash
# Should fail with clear message
history mnq 1s 10      # ❌ API doesn't support seconds
history mnq 15s 20     # ❌ API doesn't support seconds

# Should work perfectly
history mnq 1m 30      # ✅ Works
history mnq 5m 50      # ✅ Works
history mnq 15m 26     # ✅ Works
history mnq 1h 24      # ✅ Works

# Should warn and fall back to 1h
history mnq 2h 30      # ⚠️  Returns 1h bars with warning
history mnq 4h 30      # ⚠️  Returns 1h bars with warning
history mnq 8h 30      # ⚠️  Returns 1h bars with warning

# Should work
history mnq 1d 30      # ✅ Works
history mnq 1w 52      # ✅ Works
```

## Next Steps

See problems.txt for planned features:
- Remove unnecessary files
- Move away from webhook/JSON parsing
- Implement overnight range break strategy directly in bot
- Database implementation
- Tech stack evaluation (Go + React)
- TradingView chart integration
